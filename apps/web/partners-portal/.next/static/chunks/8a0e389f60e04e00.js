(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44449,e=>{"use strict";var r=e.i(98134),t=e.i(78033);let a=["M801.88,842.78c-8.1,47.41-30.86,89.85-63.42,122.39-41.2,41.2-98.19,66.73-161.09,66.73-125.41,0-227.2-101.41-227.74-226.71v-271.76h146.2v277.65c0,45.09,36.52,81.62,81.54,81.62,22.56,0,42.97-9.12,57.73-23.89,7.41-7.41,13.38-16.22,17.52-26.01h149.27Z","M805.17,349.63v271.82h-146.18v-277.65c0-45.09-36.52-81.62-81.62-81.62-22.54,0-42.89,9.12-57.67,23.89-7.39,7.39-13.35,16.18-17.46,25.96h-149.32c8.08-47.39,30.83-89.77,63.44-122.39,41.18-41.2,98.12-66.73,161.01-66.73,125.49,0,227.2,101.41,227.8,226.71Z","M1031.89,577.44c0,125.41-101.35,227.12-226.73,227.74h-271.75v-146.15h277.65c45.02,0,81.62-36.52,81.62-81.6,0-22.56-9.12-42.97-23.95-57.73-7.41-7.41-16.2-13.38-25.98-17.5v-149.3c47.44,8.1,89.83,30.86,122.4,63.44,41.26,41.26,66.73,98.19,66.73,161.09Z","M621.39,349.63v146.2h-277.67c-45.02,0-81.6,36.52-81.6,81.62,0,22.54,9.17,42.95,23.95,57.73,7.39,7.39,16.18,13.37,25.96,17.48v149.25c-47.41-8.08-89.85-30.83-122.4-63.44-41.2-41.2-66.71-98.14-66.71-161.01,0-125.43,101.41-227.27,226.71-227.82h271.76Z"],o={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16",xl:"w-24 h-24"};function s({size:e="md",className:s="",animate:l=!0}){let i=o[e];return l?(0,r.jsx)(t.motion.svg,{className:`${i} ${s}`,viewBox:"0 0 1154.81 1154.81",fill:"none",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:a.map((e,a)=>(0,r.jsx)(t.motion.path,{d:e,fill:"currentColor",initial:{opacity:.2},animate:{opacity:[.2,1,.2]},transition:{duration:1.2,repeat:1/0,ease:"easeInOut",delay:.3*a}},a))}):(0,r.jsx)("svg",{className:`${i} ${s}`,viewBox:"0 0 1154.81 1154.81",fill:"none",children:a.map((e,t)=>(0,r.jsx)("path",{d:e,fill:"currentColor"},t))})}e.s(["SovraLoader",()=>s,"default",0,s])},64833,e=>{"use strict";var r=e.i(98134),t=e.i(75201),a=e.i(78033),o=e.i(13879),s=e.i(44449);let l=(0,t.forwardRef)(({className:e,variant:t="primary",size:l="md",isLoading:i,disabled:n,children:c,...d},m)=>(0,r.jsx)(a.motion.button,{ref:m,whileTap:{scale:.98},className:(0,o.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-[var(--color-primary)] !text-white hover:opacity-90 focus:ring-[var(--color-primary)]",secondary:"bg-[var(--color-surface-hover)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-hover)] focus:ring-[var(--color-primary)]",outline:"border border-[var(--color-border)] bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] hover:border-[var(--color-border-hover)] focus:ring-[var(--color-primary)]",ghost:"bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] focus:ring-[var(--color-primary)]",danger:"bg-red-600 !text-white hover:bg-red-700 focus:ring-red-500"}[t],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[l],e),disabled:n||i,...d,children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.SovraLoader,{size:"sm",className:"mr-2 !w-4 !h-4"}),"Loading..."]}):c}));l.displayName="Button",e.s(["Button",()=>l])},96215,e=>{"use strict";var r=e.i(98134),t=e.i(75201),a=e.i(13879);let o=(0,t.forwardRef)(({className:e,hover:t=!1,children:o,...s},l)=>(0,r.jsx)("div",{ref:l,className:(0,a.cn)("rounded-xl border border-[var(--color-border)] bg-[var(--color-surface)] p-6 shadow-sm",t&&"cursor-pointer transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-[var(--color-border-hover)]",e),...s,children:o}));o.displayName="Card";let s=(0,t.forwardRef)(({className:e,...t},o)=>(0,r.jsx)("div",{ref:o,className:(0,a.cn)("mb-4",e),...t}));s.displayName="CardHeader";let l=(0,t.forwardRef)(({className:e,...t},o)=>(0,r.jsx)("h3",{ref:o,className:(0,a.cn)("text-lg font-semibold text-[var(--color-text-primary)]",e),...t}));l.displayName="CardTitle";let i=(0,t.forwardRef)(({className:e,...t},o)=>(0,r.jsx)("p",{ref:o,className:(0,a.cn)("text-sm text-[var(--color-text-secondary)]",e),...t}));i.displayName="CardDescription";let n=(0,t.forwardRef)(({className:e,...t},o)=>(0,r.jsx)("div",{ref:o,className:(0,a.cn)("",e),...t}));n.displayName="CardContent";let c=(0,t.forwardRef)(({className:e,...t},o)=>(0,r.jsx)("div",{ref:o,className:(0,a.cn)("mt-4 flex items-center gap-2",e),...t}));c.displayName="CardFooter",e.s(["Card",()=>o,"CardContent",()=>n,"CardDescription",()=>i,"CardFooter",()=>c,"CardHeader",()=>s,"CardTitle",()=>l])},75539,e=>{"use strict";var r=e.i(98134),t=e.i(75201),a=e.i(13879);let o=(0,t.forwardRef)(({className:e,label:t,error:o,hint:s,type:l="text",id:i,...n},c)=>{let d=i||t?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"w-full",children:[t&&(0,r.jsx)("label",{htmlFor:d,className:"mb-1.5 block text-sm font-medium text-gray-700",children:t}),(0,r.jsx)("input",{type:l,id:d,ref:c,className:(0,a.cn)("w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",o&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",e),...n}),s&&!o&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:s}),o&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:o})]})});o.displayName="Input",e.s(["Input",()=>o])},80859,e=>{"use strict";var r=e.i(98134),t=e.i(75201),a=e.i(13879);let o=(0,t.forwardRef)(({className:e,label:t,error:o,options:s,id:l,...i},n)=>{let c=l||t?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"w-full",children:[t&&(0,r.jsx)("label",{htmlFor:c,className:"mb-1.5 block text-sm font-medium text-gray-700",children:t}),(0,r.jsx)("select",{id:c,ref:n,className:(0,a.cn)("w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-900","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",o&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",e),...i,children:s.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),o&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:o})]})});o.displayName="Select",e.s(["Select",()=>o])},27897,e=>{"use strict";var r=e.i(98134),t=e.i(75201),a=e.i(13879);let o=(0,t.forwardRef)(({className:e,label:t,error:o,id:s,...l},i)=>{let n=s||t?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"w-full",children:[t&&(0,r.jsx)("label",{htmlFor:n,className:"mb-1.5 block text-sm font-medium text-gray-700",children:t}),(0,r.jsx)("textarea",{id:n,ref:i,className:(0,a.cn)("w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500","min-h-[100px] resize-y",o&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",e),...l}),o&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:o})]})});o.displayName="Textarea",e.s(["Textarea",()=>o])},97422,e=>{"use strict";var r=e.i(98134),t=e.i(13879);function a({className:e,variant:a="default",...o}){return(0,r.jsx)("span",{className:(0,t.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",{default:"bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",success:"bg-green-500/10 text-green-500",warning:"bg-amber-500/10 text-amber-500",danger:"bg-red-500/10 text-red-500",info:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]",secondary:"bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",outline:"bg-transparent border border-[var(--color-border)] text-[var(--color-text-secondary)]",destructive:"bg-red-500/10 text-red-500",primary:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]"}[a],e),...o})}e.s(["Badge",()=>a])},12741,e=>{"use strict";var r=e.i(98134),t=e.i(78033),a=e.i(13879);function o({className:e,value:o,max:s=100,showLabel:l=!1,variant:i="default",...n}){let c=Math.min(Math.max(o/s*100,0),100);return(0,r.jsxs)("div",{className:(0,a.cn)("w-full",e),...n,children:[l&&(0,r.jsxs)("div",{className:"mb-1 flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[Math.round(c),"%"]})]}),(0,r.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-gray-200",children:(0,r.jsx)(t.motion.div,{initial:{width:0},animate:{width:`${c}%`},transition:{duration:.5,ease:"easeOut"},className:(0,a.cn)("h-full rounded-full",{default:"bg-indigo-600",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"}[i])})})]})}e.s(["Progress",()=>o])},39786,8200,6361,e=>{"use strict";var r=e.i(67784);let t=(0,r.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],39786);let a=(0,r.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>a],8200);let o=(0,r.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>o],6361)},41534,e=>{"use strict";let r=(0,e.i(67784).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>r],41534)},29854,e=>{"use strict";var r=e.i(98134),t=e.i(39786),a=e.i(8200),o=e.i(6361),s=e.i(41534),l=e.i(13879);function i({className:e,variant:i="info",title:n,children:c,...d}){let m={info:o.Info,success:a.CheckCircle2,warning:t.AlertCircle,error:s.XCircle}[i],u={info:{container:"bg-blue-50 border-blue-200",icon:"text-blue-500",title:"text-blue-800",content:"text-blue-700"},success:{container:"bg-green-50 border-green-200",icon:"text-green-500",title:"text-green-800",content:"text-green-700"},warning:{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-500",title:"text-yellow-800",content:"text-yellow-700"},error:{container:"bg-red-50 border-red-200",icon:"text-red-500",title:"text-red-800",content:"text-red-700"}}[i];return(0,r.jsxs)("div",{className:(0,l.cn)("flex gap-3 rounded-lg border p-4",u.container,e),role:"alert",...d,children:[(0,r.jsx)(m,{className:(0,l.cn)("h-5 w-5 flex-shrink-0",u.icon)}),(0,r.jsxs)("div",{children:[n&&(0,r.jsx)("h4",{className:(0,l.cn)("font-medium",u.title),children:n}),(0,r.jsx)("div",{className:(0,l.cn)("text-sm",u.content,n&&"mt-1"),children:c})]})]})}e.s(["Alert",()=>i])},75315,e=>{"use strict";e.i(64833),e.i(96215),e.i(75539),e.i(80859),e.i(27897),e.i(97422),e.i(12741),e.i(29854),e.i(44449),e.s([])},58065,e=>{"use strict";let r=(0,e.i(67784).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],58065)},65153,e=>{"use strict";let r=(0,e.i(67784).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>r],65153)},94810,e=>{"use strict";let r=(0,e.i(67784).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>r],94810)},98952,e=>{"use strict";let r=(0,e.i(67784).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>r],98952)},25194,e=>{"use strict";let r=(0,e.i(67784).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>r],25194)},47524,e=>{"use strict";let r=(0,e.i(67784).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>r],47524)},95644,e=>{"use strict";let r=(0,e.i(67784).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],95644)},65403,e=>{"use strict";let r=(0,e.i(67784).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>r],65403)},22417,e=>{"use strict";let r=(0,e.i(67784).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>r],22417)},1371,e=>{"use strict";let r=(0,e.i(67784).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>r],1371)},32655,e=>{"use strict";let r,t;var a,o,s,l,i,n=e.i(75201),c=Object.defineProperty,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,x=(e,r,t)=>r in e?c(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,h=(e,r)=>{for(var t in r||(r={}))m.call(r,t)&&x(e,t,r[t]);if(d)for(var t of d(r))u.call(r,t)&&x(e,t,r[t]);return e},p=(e,r)=>{var t={};for(var a in e)m.call(e,a)&&0>r.indexOf(a)&&(t[a]=e[a]);if(null!=e&&d)for(var a of d(e))0>r.indexOf(a)&&u.call(e,a)&&(t[a]=e[a]);return t};(e=>{let r=class r{constructor(e,t,a,s){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<r.MIN_VERSION||e>r.MAX_VERSION)throw RangeError("Version value out of range");if(s<-1||s>7)throw RangeError("Mask value out of range");this.size=4*e+17;let l=[];for(let e=0;e<this.size;e++)l.push(!1);for(let e=0;e<this.size;e++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();const i=this.addEccAndInterleave(a);if(this.drawCodewords(i),-1==s){let e=1e9;for(let r=0;r<8;r++){this.applyMask(r),this.drawFormatBits(r);const t=this.getPenaltyScore();t<e&&(s=r,e=t),this.applyMask(r)}}o(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(t,a){let o=e.QrSegment.makeSegments(t);return r.encodeSegments(o,a)}static encodeBinary(t,a){let o=e.QrSegment.makeBytes(t);return r.encodeSegments([o],a)}static encodeSegments(e,a,s=1,i=40,n=-1,c=!0){let d,m;if(!(r.MIN_VERSION<=s&&s<=i&&i<=r.MAX_VERSION)||n<-1||n>7)throw RangeError("Invalid value");for(d=s;;d++){let t=8*r.getNumDataCodewords(d,a),o=l.getTotalBits(e,d);if(o<=t){m=o;break}if(d>=i)throw RangeError("Data too long")}for(let e of[r.Ecc.MEDIUM,r.Ecc.QUARTILE,r.Ecc.HIGH])c&&m<=8*r.getNumDataCodewords(d,e)&&(a=e);let u=[];for(let r of e)for(let e of(t(r.mode.modeBits,4,u),t(r.numChars,r.mode.numCharCountBits(d),u),r.getData()))u.push(e);o(u.length==m);let x=8*r.getNumDataCodewords(d,a);o(u.length<=x),t(0,Math.min(4,x-u.length),u),t(0,(8-u.length%8)%8,u),o(u.length%8==0);for(let e=236;u.length<x;e^=253)t(e,8,u);let h=[];for(;8*h.length<u.length;)h.push(0);return u.forEach((e,r)=>h[r>>>3]|=e<<7-(7&r)),new r(d,a,h,n)}getModule(e,r){return 0<=e&&e<this.size&&0<=r&&r<this.size&&this.modules[r][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),r=e.length;for(let t=0;t<r;t++)for(let a=0;a<r;a++)(0!=t||0!=a)&&(0!=t||a!=r-1)&&(t!=r-1||0!=a)&&this.drawAlignmentPattern(e[t],e[a]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let r=this.errorCorrectionLevel.formatBits<<3|e,t=r;for(let e=0;e<10;e++)t=t<<1^(t>>>9)*1335;let s=(r<<10|t)^21522;o(s>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,a(s,e));this.setFunctionModule(8,7,a(s,6)),this.setFunctionModule(8,8,a(s,7)),this.setFunctionModule(7,8,a(s,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,a(s,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,a(s,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,a(s,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let r=0;r<12;r++)e=e<<1^(e>>>11)*7973;let r=this.version<<12|e;o(r>>>18==0);for(let e=0;e<18;e++){let t=a(r,e),o=this.size-11+e%3,s=Math.floor(e/3);this.setFunctionModule(o,s,t),this.setFunctionModule(s,o,t)}}drawFinderPattern(e,r){for(let t=-4;t<=4;t++)for(let a=-4;a<=4;a++){let o=Math.max(Math.abs(a),Math.abs(t)),s=e+a,l=r+t;0<=s&&s<this.size&&0<=l&&l<this.size&&this.setFunctionModule(s,l,2!=o&&4!=o)}}drawAlignmentPattern(e,r){for(let t=-2;t<=2;t++)for(let a=-2;a<=2;a++)this.setFunctionModule(e+a,r+t,1!=Math.max(Math.abs(a),Math.abs(t)))}setFunctionModule(e,r,t){this.modules[r][e]=t,this.isFunction[r][e]=!0}addEccAndInterleave(e){let t=this.version,a=this.errorCorrectionLevel;if(e.length!=r.getNumDataCodewords(t,a))throw RangeError("Invalid argument");let s=r.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][t],l=r.ECC_CODEWORDS_PER_BLOCK[a.ordinal][t],i=Math.floor(r.getNumRawDataModules(t)/8),n=s-i%s,c=Math.floor(i/s),d=[],m=r.reedSolomonComputeDivisor(l);for(let t=0,a=0;t<s;t++){let o=e.slice(a,a+c-l+(t<n?0:1));a+=o.length;let s=r.reedSolomonComputeRemainder(o,m);t<n&&o.push(0),d.push(o.concat(s))}let u=[];for(let e=0;e<d[0].length;e++)d.forEach((r,t)=>{(e!=c-l||t>=n)&&u.push(r[e])});return o(u.length==i),u}drawCodewords(e){if(e.length!=Math.floor(r.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let t=0;for(let r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(let o=0;o<this.size;o++)for(let s=0;s<2;s++){let l=r-s,i=(r+1&2)==0?this.size-1-o:o;!this.isFunction[i][l]&&t<8*e.length&&(this.modules[i][l]=a(e[t>>>3],7-(7&t)),t++)}}o(t==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let t=0;t<this.size;t++){let a;switch(e){case 0:a=(t+r)%2==0;break;case 1:a=r%2==0;break;case 2:a=t%3==0;break;case 3:a=(t+r)%3==0;break;case 4:a=(Math.floor(t/3)+Math.floor(r/2))%2==0;break;case 5:a=t*r%2+t*r%3==0;break;case 6:a=(t*r%2+t*r%3)%2==0;break;case 7:a=((t+r)%2+t*r%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[r][t]&&a&&(this.modules[r][t]=!this.modules[r][t])}}getPenaltyScore(){let e=0;for(let t=0;t<this.size;t++){let a=!1,o=0,s=[0,0,0,0,0,0,0];for(let l=0;l<this.size;l++)this.modules[t][l]==a?5==++o?e+=r.PENALTY_N1:o>5&&e++:(this.finderPenaltyAddHistory(o,s),a||(e+=this.finderPenaltyCountPatterns(s)*r.PENALTY_N3),a=this.modules[t][l],o=1);e+=this.finderPenaltyTerminateAndCount(a,o,s)*r.PENALTY_N3}for(let t=0;t<this.size;t++){let a=!1,o=0,s=[0,0,0,0,0,0,0];for(let l=0;l<this.size;l++)this.modules[l][t]==a?5==++o?e+=r.PENALTY_N1:o>5&&e++:(this.finderPenaltyAddHistory(o,s),a||(e+=this.finderPenaltyCountPatterns(s)*r.PENALTY_N3),a=this.modules[l][t],o=1);e+=this.finderPenaltyTerminateAndCount(a,o,s)*r.PENALTY_N3}for(let t=0;t<this.size-1;t++)for(let a=0;a<this.size-1;a++){let o=this.modules[t][a];o==this.modules[t][a+1]&&o==this.modules[t+1][a]&&o==this.modules[t+1][a+1]&&(e+=r.PENALTY_N2)}let t=0;for(let e of this.modules)t=e.reduce((e,r)=>e+ +!!r,t);let a=this.size*this.size,s=Math.ceil(Math.abs(20*t-10*a)/a)-1;return o(0<=s&&s<=9),o(0<=(e+=s*r.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,r=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),t=[6];for(let a=this.size-7;t.length<e;a-=r)t.splice(1,0,a);return t}}static getNumRawDataModules(e){if(e<r.MIN_VERSION||e>r.MAX_VERSION)throw RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){let r=Math.floor(e/7)+2;t-=(25*r-10)*r-55,e>=7&&(t-=36)}return o(208<=t&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(r.getNumRawDataModules(e)/8)-r.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*r.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let t=[];for(let r=0;r<e-1;r++)t.push(0);t.push(1);let a=1;for(let o=0;o<e;o++){for(let e=0;e<t.length;e++)t[e]=r.reedSolomonMultiply(t[e],a),e+1<t.length&&(t[e]^=t[e+1]);a=r.reedSolomonMultiply(a,2)}return t}static reedSolomonComputeRemainder(e,t){let a=t.map(e=>0);for(let o of e){let e=o^a.shift();a.push(0),t.forEach((t,o)=>a[o]^=r.reedSolomonMultiply(t,e))}return a}static reedSolomonMultiply(e,r){if(e>>>8!=0||r>>>8!=0)throw RangeError("Byte out of range");let t=0;for(let a=7;a>=0;a--)t=t<<1^(t>>>7)*285^(r>>>a&1)*e;return o(t>>>8==0),t}finderPenaltyCountPatterns(e){let r=e[1];o(r<=3*this.size);let t=r>0&&e[2]==r&&e[3]==3*r&&e[4]==r&&e[5]==r;return(t&&e[0]>=4*r&&e[6]>=r?1:0)+(t&&e[6]>=4*r&&e[0]>=r?1:0)}finderPenaltyTerminateAndCount(e,r,t){return e&&(this.finderPenaltyAddHistory(r,t),r=0),r+=this.size,this.finderPenaltyAddHistory(r,t),this.finderPenaltyCountPatterns(t)}finderPenaltyAddHistory(e,r){0==r[0]&&(e+=this.size),r.pop(),r.unshift(e)}};function t(e,r,t){if(r<0||r>31||e>>>r!=0)throw RangeError("Value out of range");for(let a=r-1;a>=0;a--)t.push(e>>>a&1)}function a(e,r){return(e>>>r&1)!=0}function o(e){if(!e)throw Error("Assertion error")}r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;let s=class e{constructor(e,r,t){if(this.mode=e,this.numChars=r,this.bitData=t,r<0)throw RangeError("Invalid argument");this.bitData=t.slice()}static makeBytes(r){let a=[];for(let e of r)t(e,8,a);return new e(e.Mode.BYTE,r.length,a)}static makeNumeric(r){if(!e.isNumeric(r))throw RangeError("String contains non-numeric characters");let a=[];for(let e=0;e<r.length;){let o=Math.min(r.length-e,3);t(parseInt(r.substring(e,e+o),10),3*o+1,a),e+=o}return new e(e.Mode.NUMERIC,r.length,a)}static makeAlphanumeric(r){let a;if(!e.isAlphanumeric(r))throw RangeError("String contains unencodable characters in alphanumeric mode");let o=[];for(a=0;a+2<=r.length;a+=2){let s=45*e.ALPHANUMERIC_CHARSET.indexOf(r.charAt(a));t(s+=e.ALPHANUMERIC_CHARSET.indexOf(r.charAt(a+1)),11,o)}return a<r.length&&t(e.ALPHANUMERIC_CHARSET.indexOf(r.charAt(a)),6,o),new e(e.Mode.ALPHANUMERIC,r.length,o)}static makeSegments(r){return""==r?[]:e.isNumeric(r)?[e.makeNumeric(r)]:e.isAlphanumeric(r)?[e.makeAlphanumeric(r)]:[e.makeBytes(e.toUtf8ByteArray(r))]}static makeEci(r){let a=[];if(r<0)throw RangeError("ECI assignment value out of range");if(r<128)t(r,8,a);else if(r<16384)t(2,2,a),t(r,14,a);else if(r<1e6)t(6,3,a),t(r,21,a);else throw RangeError("ECI assignment value out of range");return new e(e.Mode.ECI,0,a)}static isNumeric(r){return e.NUMERIC_REGEX.test(r)}static isAlphanumeric(r){return e.ALPHANUMERIC_REGEX.test(r)}getData(){return this.bitData.slice()}static getTotalBits(e,r){let t=0;for(let a of e){let e=a.mode.numCharCountBits(r);if(a.numChars>=1<<e)return 1/0;t+=4+e+a.bitData.length}return t}static toUtf8ByteArray(e){e=encodeURI(e);let r=[];for(let t=0;t<e.length;t++)"%"!=e.charAt(t)?r.push(e.charCodeAt(t)):(r.push(parseInt(e.substring(t+1,t+3),16)),t+=2);return r}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=s;e.QrSegment=s})(i||(i={})),o=(a=i||(i={})).QrCode||(a.QrCode={}),(r=class{constructor(e,r){this.ordinal=e,this.formatBits=r}}).LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),o.Ecc=r,l=(s=i||(i={})).QrSegment||(s.QrSegment={}),(t=class{constructor(e,r){this.modeBits=e,this.numBitsCharCount=r}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}).NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),l.Mode=t;var f=i,g={L:f.QrCode.Ecc.LOW,M:f.QrCode.Ecc.MEDIUM,Q:f.QrCode.Ecc.QUARTILE,H:f.QrCode.Ecc.HIGH},v="#FFFFFF",b="#000000";function y(e,r=0){let t=[];return e.forEach(function(e,a){let o=null;e.forEach(function(s,l){if(!s&&null!==o){t.push(`M${o+r} ${a+r}h${l-o}v1H${o+r}z`),o=null;return}if(l===e.length-1){if(!s)return;null===o?t.push(`M${l+r},${a+r} h1v1H${l+r}z`):t.push(`M${o+r},${a+r} h${l+1-o}v1H${o+r}z`);return}s&&null===o&&(o=l)})}),t.join("")}function j(e,r){return e.slice().map((e,t)=>t<r.y||t>=r.y+r.h?e:e.map((e,t)=>(t<r.x||t>=r.x+r.w)&&e))}function N({value:e,level:r,minVersion:t,includeMargin:a,marginSize:o,imageSettings:s,size:l,boostLevel:i}){let c=n.default.useMemo(()=>{let a=(Array.isArray(e)?e:[e]).reduce((e,r)=>(e.push(...f.QrSegment.makeSegments(r)),e),[]);return f.QrCode.encodeSegments(a,g[r],t,void 0,void 0,i)},[e,r,t,i]),{cells:d,margin:m,numCells:u,calculatedImageSettings:x}=n.default.useMemo(()=>{let e=c.getModules(),r=null!=o?Math.max(Math.floor(o),0):4*!!a,t=e.length+2*r,i=function(e,r,t,a){if(null==a)return null;let o=e.length+2*t,s=Math.floor(.1*r),l=o/r,i=(a.width||s)*l,n=(a.height||s)*l,c=null==a.x?e.length/2-i/2:a.x*l,d=null==a.y?e.length/2-n/2:a.y*l,m=null==a.opacity?1:a.opacity,u=null;if(a.excavate){let e=Math.floor(c),r=Math.floor(d),t=Math.ceil(i+c-e),a=Math.ceil(n+d-r);u={x:e,y:r,w:t,h:a}}return{x:c,y:d,h:n,w:i,excavation:u,opacity:m,crossOrigin:a.crossOrigin}}(e,l,r,s);return{cells:e,margin:r,numCells:t,calculatedImageSettings:i}},[c,l,s,a,o]);return{qrcode:c,margin:m,cells:d,numCells:u,calculatedImageSettings:x}}var w=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();n.default.forwardRef(function(e,r){let{value:t,size:a=128,level:o="L",bgColor:s=v,fgColor:l=b,includeMargin:i=!1,minVersion:c=1,boostLevel:d,marginSize:m,imageSettings:u}=e,x=p(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=x,g=p(x,["style"]),C=null==u?void 0:u.src,E=n.default.useRef(null),k=n.default.useRef(null),M=n.default.useCallback(e=>{E.current=e,"function"==typeof r?r(e):r&&(r.current=e)},[r]),[R,S]=n.default.useState(!1),{margin:P,cells:A,numCells:z,calculatedImageSettings:I}=N({value:t,level:o,minVersion:c,boostLevel:d,includeMargin:i,marginSize:m,imageSettings:u,size:a});n.default.useEffect(()=>{if(null!=E.current){let e=E.current,r=e.getContext("2d");if(!r)return;let t=A,o=k.current,i=null!=I&&null!==o&&o.complete&&0!==o.naturalHeight&&0!==o.naturalWidth;i&&null!=I.excavation&&(t=j(A,I.excavation));let n=window.devicePixelRatio||1;e.height=e.width=a*n;let c=a/z*n;r.scale(c,c),r.fillStyle=s,r.fillRect(0,0,z,z),r.fillStyle=l,w?r.fill(new Path2D(y(t,P))):A.forEach(function(e,t){e.forEach(function(e,a){e&&r.fillRect(a+P,t+P,1,1)})}),I&&(r.globalAlpha=I.opacity),i&&r.drawImage(o,I.x+P,I.y+P,I.w,I.h)}}),n.default.useEffect(()=>{S(!1)},[C]);let T=h({height:a,width:a},f),L=null;return null!=C&&(L=n.default.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{S(!0)},ref:k,crossOrigin:null==I?void 0:I.crossOrigin})),n.default.createElement(n.default.Fragment,null,n.default.createElement("canvas",h({style:T,height:a,width:a,ref:M,role:"img"},g)),L)}).displayName="QRCodeCanvas";var C=n.default.forwardRef(function(e,r){let{value:t,size:a=128,level:o="L",bgColor:s=v,fgColor:l=b,includeMargin:i=!1,minVersion:c=1,boostLevel:d,title:m,marginSize:u,imageSettings:x}=e,f=p(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:w,numCells:C,calculatedImageSettings:E}=N({value:t,level:o,minVersion:c,boostLevel:d,includeMargin:i,marginSize:u,imageSettings:x,size:a}),k=w,M=null;null!=x&&null!=E&&(null!=E.excavation&&(k=j(w,E.excavation)),M=n.default.createElement("image",{href:x.src,height:E.h,width:E.w,x:E.x+g,y:E.y+g,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));let R=y(k,g);return n.default.createElement("svg",h({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:r,role:"img"},f),!!m&&n.default.createElement("title",null,m),n.default.createElement("path",{fill:s,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),n.default.createElement("path",{fill:l,d:R,shapeRendering:"crispEdges"}),M)});C.displayName="QRCodeSVG",e.s(["QRCodeSVG",()=>C])},28064,26875,23543,e=>{"use strict";var r=e.i(67784);let t=(0,r.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Ban",()=>t],28064);let a=(0,r.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["PlayCircle",()=>a],26875);let o=(0,r.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["BadgeCheck",()=>o],23543)},53023,e=>{"use strict";var r=e.i(98134),t=e.i(75201),a=e.i(24601),o=e.i(78033),s=e.i(76927),l=e.i(58065),i=e.i(65153),n=e.i(38657),c=e.i(36003),d=e.i(65403),m=e.i(94810),u=e.i(47524),x=e.i(28064),h=e.i(26875),p=e.i(16815),f=e.i(22417),g=e.i(55995),v=e.i(23543),b=e.i(39786),y=e.i(25194);let j=(0,e.i(67784).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var N=e.i(95644),w=e.i(98952),C=e.i(9853),E=e.i(1371),k=e.i(32655),M=e.i(13879);e.i(75315);var R=e.i(44449);let S={bronze:{label:"Bronze",color:"text-amber-600 bg-amber-500/10",icon:""},silver:{label:"Silver",color:"text-[var(--color-text-secondary)] bg-[var(--color-surface-hover)]",icon:""},gold:{label:"Gold",color:"text-yellow-500 bg-yellow-500/10",icon:""},platinum:{label:"Platinum",color:"text-indigo-400 bg-indigo-500/10",icon:""}},P={active:{label:"Activo",color:"text-green-500 bg-green-500/10"},suspended:{label:"Suspendido",color:"text-red-500 bg-red-500/10"}},A=[{code:"AR",name:"Argentina"},{code:"MX",name:"Mexico"},{code:"BR",name:"Brasil"},{code:"CL",name:"Chile"},{code:"CO",name:"Colombia"},{code:"PE",name:"Peru"},{code:"UY",name:"Uruguay"},{code:"EC",name:"Ecuador"}];function z({isOpen:e,onClose:a,onSuccess:l}){let[i,n]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[m,u]=(0,t.useState)("url"),[x,h]=(0,t.useState)(null),[p,f]=(0,t.useState)("form"),[v,N]=(0,t.useState)(null),[w,S]=(0,t.useState)({companyName:"",country:"",tier:"bronze",logoUrl:"",contactName:"",contactEmail:"",contactPhone:""}),P=async e=>{e.preventDefault(),n(!0),d(null);try{let e=await fetch("/api/sovra/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!e.ok){let r=await e.json();throw Error(r.error||"Error al crear partner")}let r=(await e.json()).partner.id,t=await fetch(`/api/sovra/partners/${r}/credentials`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({holderName:w.contactName,holderEmail:w.contactEmail,role:"admin"})});if(!t.ok){console.warn("Partner created but credential issuance failed"),l(),z();return}let a=await t.json();N({credential:a.credential,didcommInvitationUrl:a.didcommInvitationUrl}),f("preview"),l()}catch(e){d(e instanceof Error?e.message:"Error desconocido")}finally{n(!1)}},z=()=>{f("form"),N(null),S({companyName:"",country:"",tier:"bronze",logoUrl:"",contactName:"",contactEmail:"",contactPhone:""}),h(null),u("url"),d(null),a()};if(!e)return null;let I=v?.didcommInvitationUrl||v?.credential.qrCode||"";return(0,r.jsx)(s.AnimatePresence,{children:(0,r.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:z,children:(0,r.jsx)(o.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-[var(--color-surface)] rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-[var(--color-border)]",children:"form"===p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[var(--color-border)]",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:"Nuevo Partner"}),(0,r.jsx)("button",{onClick:z,className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",children:(0,r.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,r.jsxs)("form",{onSubmit:P,className:"p-6 space-y-6",children:[c&&(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[(0,r.jsx)(b.AlertCircle,{className:"w-4 h-4 flex-shrink-0"}),c]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-[var(--color-text-primary)] mb-4",children:"Informacion de la Empresa"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Nombre de empresa *"}),(0,r.jsx)("input",{type:"text",required:!0,value:w.companyName,onChange:e=>S({...w,companyName:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",placeholder:"Acme Corp"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Pais *"}),(0,r.jsxs)("select",{required:!0,value:w.country,onChange:e=>S({...w,country:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",children:[(0,r.jsx)("option",{value:"",children:"Seleccionar pais..."}),A.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.code))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Nivel inicial *"}),(0,r.jsxs)("select",{required:!0,value:w.tier,onChange:e=>S({...w,tier:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",children:[(0,r.jsx)("option",{value:"bronze",children:"Bronze"}),(0,r.jsx)("option",{value:"silver",children:"Silver"}),(0,r.jsx)("option",{value:"gold",children:"Gold"}),(0,r.jsx)("option",{value:"platinum",children:"Platinum"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-2",children:"Logo (opcional)"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{u("upload"),S({...w,logoUrl:""}),h(null)},className:(0,M.cn)("flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg border transition-colors","upload"===m?"bg-[var(--color-primary)]/10 border-[var(--color-primary)] text-[var(--color-primary)]":"border-[var(--color-border)] text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-hover)]"),children:[(0,r.jsx)(y.Upload,{className:"w-4 h-4"}),"Subir archivo"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{u("url"),S({...w,logoUrl:""}),h(null)},className:(0,M.cn)("flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg border transition-colors","url"===m?"bg-[var(--color-primary)]/10 border-[var(--color-primary)] text-[var(--color-primary)]":"border-[var(--color-border)] text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-hover)]"),children:[(0,r.jsx)(j,{className:"w-4 h-4"}),"URL"]})]}),"upload"===m?(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,r.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-[var(--color-border)] border-dashed rounded-lg cursor-pointer bg-[var(--color-bg)] hover:bg-[var(--color-surface-hover)] transition-colors",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[x?(0,r.jsx)("img",{src:x,alt:"Preview",className:"w-16 h-16 object-contain mb-2"}):(0,r.jsx)(y.Upload,{className:"w-8 h-8 mb-2 text-[var(--color-text-secondary)]"}),(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:x?"Click para cambiar":"Click para subir"}),(0,r.jsx)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"PNG, JPG (max 2MB)"})]}),(0,r.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];if(r){if(!r.type.startsWith("image/"))return void d("Por favor selecciona un archivo de imagen");if(r.size>2097152)return void d("El archivo no debe superar 2MB");let e=new FileReader;e.onload=e=>{let r=e.target?.result;h(r),S({...w,logoUrl:r})},e.readAsDataURL(r)}}})]})})}):(0,r.jsx)("input",{type:"url",value:w.logoUrl,onChange:e=>S({...w,logoUrl:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",placeholder:"https://example.com/logo.png"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-[var(--color-text-primary)] mb-4",children:"Administrador del Partner"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Nombre completo *"}),(0,r.jsx)("input",{type:"text",required:!0,value:w.contactName,onChange:e=>S({...w,contactName:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",placeholder:"Juan Perez"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Email *"}),(0,r.jsx)("input",{type:"email",required:!0,value:w.contactEmail,onChange:e=>S({...w,contactEmail:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",placeholder:"juan@acme.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Telefono (opcional)"}),(0,r.jsx)("input",{type:"tel",value:w.contactPhone,onChange:e=>S({...w,contactPhone:e.target.value}),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]",placeholder:"+54 11 1234-5678"})]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:(0,r.jsx)("p",{children:"Al crear el partner, se emitira automaticamente una credencial verificable para el administrador."})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-[var(--color-border)]",children:[(0,r.jsx)("button",{type:"button",onClick:z,className:"px-4 py-2 text-sm font-medium text-[var(--color-text-secondary)] bg-[var(--color-surface-hover)] rounded-lg hover:bg-[var(--color-border)] transition-colors",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm font-medium !text-white bg-[var(--color-primary)] rounded-lg hover:bg-[var(--color-primary-dark)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.SovraLoader,{size:"sm",className:"!w-4 !h-4 text-white"}),"Creando..."]}):"Crear Partner"})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[var(--color-border)]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:(0,r.jsx)(C.Check,{className:"w-5 h-5 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Partner Creado"}),(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:w.companyName})]})]}),(0,r.jsx)("button",{onClick:z,className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",children:(0,r.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-[var(--color-text-secondary)] text-sm",children:"Credencial de Admin para"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:w.contactName}),(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-muted)]",children:w.contactEmail}),(0,r.jsx)("span",{className:"inline-block mt-2 px-3 py-1 text-xs font-medium rounded-full bg-[var(--color-primary)]/10 text-[var(--color-primary)]",children:"Admin"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-[var(--color-border)]",children:(0,r.jsx)(k.QRCodeSVG,{id:"partner-admin-qr-code",value:I,size:200,level:"M",includeMargin:!0})}),(0,r.jsx)("p",{className:"text-xs text-[var(--color-text-muted)] mt-3 text-center max-w-[280px]",children:"Con esta credencial verificable, el administrador del partner podra acceder al portal, gestionar su equipo, registrar oportunidades y disfrutar de beneficios exclusivos del programa."})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>{let e=document.getElementById("partner-admin-qr-code");if(e){let r=new XMLSerializer().serializeToString(e),t=document.createElement("canvas"),a=t.getContext("2d"),o=new Image;o.onload=()=>{t.width=o.width,t.height=o.height,a?.drawImage(o,0,0);let e=t.toDataURL("image/png"),r=document.createElement("a");r.download=`credencial-${w.contactName.replace(/\s+/g,"-")}.png`,r.href=e,r.click()},o.src="data:image/svg+xml;base64,"+btoa(r)}},className:"flex-1 px-4 py-2 text-sm font-medium text-[var(--color-text-primary)] bg-[var(--color-surface-hover)] rounded-lg hover:bg-[var(--color-border)] flex items-center justify-center gap-2",children:"Descargar QR"}),(0,r.jsxs)("button",{onClick:z,className:"flex-1 px-4 py-2 text-sm font-medium !text-white bg-[var(--color-primary)] rounded-lg hover:bg-[var(--color-primary-dark)] flex items-center justify-center gap-2",children:[(0,r.jsx)(E.Mail,{className:"w-4 h-4"}),"Enviar por mail"]})]}),(0,r.jsxs)("div",{className:"bg-[var(--color-surface-hover)] rounded-lg p-3 text-sm text-[var(--color-text-secondary)]",children:[(0,r.jsx)("p",{className:"font-medium text-[var(--color-text-primary)] mb-1",children:"Para activar su acceso:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[(0,r.jsx)("li",{children:"Descargar Sovra Wallet desde App Store o Google Play"}),(0,r.jsx)("li",{children:"Escanear el codigo QR para obtener su credencial"}),(0,r.jsx)("li",{children:"Ingresar al portal y comenzar a trabajar"})]})]})]})]})})})})}function I({partner:e,onView:l,onSuspend:i,onReactivate:g,onDelete:b}){let[y,j]=(0,t.useState)(!1),w=(0,a.useParams)().locale,C=(0,a.useRouter)(),E=S[e.tier],k=P[e.status];return(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-5 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e.logoUrl?(0,r.jsx)("img",{src:e.logoUrl,alt:e.companyName,className:"w-12 h-12 rounded-lg object-cover"}):(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-accent-purple)] flex items-center justify-center",children:(0,r.jsx)(n.Building2,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-[var(--color-text-primary)]",children:e.companyName}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)("span",{className:"text-sm text-[var(--color-text-secondary)]",children:e.country}),(0,r.jsx)("span",{className:(0,M.cn)("px-2 py-0.5 text-xs font-medium rounded-full",E.color),children:E.label}),(0,r.jsx)("span",{className:(0,M.cn)("px-2 py-0.5 text-xs font-medium rounded-full",k.color),children:k.label})]})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>j(!y),className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",children:(0,r.jsx)(d.MoreHorizontal,{className:"w-5 h-5"})}),(0,r.jsx)(s.AnimatePresence,{children:y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),(0,r.jsxs)(o.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 top-full mt-1 w-48 bg-[var(--color-surface)] rounded-lg shadow-lg border border-[var(--color-border)] z-20 overflow-hidden",children:[(0,r.jsxs)("button",{onClick:()=>{j(!1),l()},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)]",children:[(0,r.jsx)(m.Eye,{className:"w-4 h-4"}),"Ver detalle"]}),(0,r.jsxs)("button",{onClick:()=>{j(!1),C.push(`/${w}/sovra/dashboard/partners/${e.id}?tab=edit`)},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)]",children:[(0,r.jsx)(u.Edit,{className:"w-4 h-4"}),"Editar"]}),(0,r.jsx)("hr",{className:"my-1"}),(0,r.jsxs)("button",{onClick:()=>{j(!1),C.push(`/${w}/sovra/dashboard/approvals?partner=${e.id}`)},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)]",children:[(0,r.jsx)(f.Briefcase,{className:"w-4 h-4"}),"Ver oportunidades"]}),(0,r.jsxs)("button",{onClick:()=>{j(!1),C.push(`/${w}/sovra/dashboard/documents?partner=${e.id}`)},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)]",children:[(0,r.jsx)(p.FileText,{className:"w-4 h-4"}),"Ver documentos"]}),(0,r.jsx)("hr",{className:"my-1"}),"active"===e.status?(0,r.jsxs)("button",{onClick:()=>{j(!1),i()},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50",children:[(0,r.jsx)(x.Ban,{className:"w-4 h-4"}),"Suspender"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>{j(!1),g()},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-green-600 hover:bg-green-50",children:[(0,r.jsx)(h.PlayCircle,{className:"w-4 h-4"}),"Reactivar"]}),(0,r.jsxs)("button",{onClick:()=>{j(!1),b()},className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50",children:[(0,r.jsx)(N.Trash2,{className:"w-4 h-4"}),"Eliminar cuenta"]})]})]})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center py-3 border-t border-[var(--color-border)]",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:e.totalDeals||0}),(0,r.jsx)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Oportunidades"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:e.wonDeals||0}),(0,r.jsx)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Ganadas"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:["$",((e.totalRevenue||0)/1e3).toFixed(0),"K"]}),(0,r.jsx)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Revenue"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 pt-3 border-t border-[var(--color-border)] text-sm text-[var(--color-text-secondary)]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(c.Users,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[e.usersCount||0," usuarios"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(v.BadgeCheck,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[e.certificationsCount||0," certificaciones"]})]})]})]})}function T({isOpen:e,partner:a,onClose:l,onConfirm:i,loading:n}){let[c,d]=(0,t.useState)("");return e&&a?(0,r.jsx)(s.AnimatePresence,{children:(0,r.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:l,children:(0,r.jsx)(o.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-[var(--color-surface)] rounded-2xl shadow-xl w-full max-w-md border border-[var(--color-border)]",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,r.jsx)(x.Ban,{className:"w-5 h-5 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Suspender Partner"}),(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:a.companyName})]})]}),(0,r.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4 text-sm text-amber-800",children:"Al suspender este partner, todas sus credenciales SovraID seran revocadas automaticamente."}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:"Razon de la suspension *"}),(0,r.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:3,required:!0,className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",placeholder:"Describe la razon de la suspension..."})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:l,className:"px-4 py-2 text-sm font-medium text-[var(--color-text-secondary)] bg-[var(--color-surface-hover)] rounded-lg hover:bg-[var(--color-border)]",children:"Cancelar"}),(0,r.jsx)("button",{onClick:()=>i(c),disabled:!c.trim()||n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.SovraLoader,{size:"sm",className:"!w-4 !h-4 text-white"}),"Suspendiendo..."]}):"Suspender Partner"})]})]})})})}):null}function L({isOpen:e,partner:a,onClose:l,onConfirm:i,loading:n}){let[c,d]=(0,t.useState)("");if(!e||!a)return null;let m=c===a.companyName;return(0,r.jsx)(s.AnimatePresence,{children:(0,r.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:l,children:(0,r.jsx)(o.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-[var(--color-surface)] rounded-2xl shadow-xl w-full max-w-md border border-[var(--color-border)]",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,r.jsx)(w.AlertTriangle,{className:"w-5 h-5 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Eliminar Partner"}),(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:a.companyName})]})]}),(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(w.AlertTriangle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"text-sm text-red-800",children:[(0,r.jsx)("p",{className:"font-semibold mb-2",children:"Esta accion es irreversible"}),(0,r.jsx)("p",{className:"mb-2",children:"Al eliminar este partner se borraran permanentemente:"}),(0,r.jsxs)("ul",{className:"list-disc ml-4 space-y-1",children:[(0,r.jsx)("li",{children:"Todos los datos de la empresa"}),(0,r.jsx)("li",{children:"Todos los usuarios y credenciales"}),(0,r.jsx)("li",{children:"Historial de oportunidades"}),(0,r.jsx)("li",{children:"Documentos legales firmados"}),(0,r.jsx)("li",{children:"Progreso de capacitacion"}),(0,r.jsx)("li",{children:"Registros de auditoria asociados"})]})]})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:["Escribe ",(0,r.jsx)("span",{className:"font-mono bg-[var(--color-surface-hover)] px-1 rounded",children:a.companyName})," para confirmar"]}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:a.companyName})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>{d(""),l()},className:"px-4 py-2 text-sm font-medium text-[var(--color-text-secondary)] bg-[var(--color-surface-hover)] rounded-lg hover:bg-[var(--color-border)]",children:"Cancelar"}),(0,r.jsx)("button",{onClick:i,disabled:!m||n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.SovraLoader,{size:"sm",className:"!w-4 !h-4 text-white"}),"Eliminando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Trash2,{className:"w-4 h-4"}),"Eliminar permanentemente"]})})]})]})})})})}function O(){let e=(0,a.useRouter)(),o=(0,a.useParams)().locale,[s,c]=(0,t.useState)([]),[d,m]=(0,t.useState)(!0),[u,x]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)({open:!1,partner:null}),[C,E]=(0,t.useState)({open:!1,partner:null}),[k,M]=(0,t.useState)(!1),S=(0,t.useCallback)(async()=>{try{let e=new URLSearchParams;h&&e.set("country",h),f&&e.set("tier",f),v&&e.set("status",v);let r=await fetch(`/api/sovra/partners?${e.toString()}`);if(!r.ok)throw Error("Failed to fetch partners");let t=await r.json();c(t.partners||[])}catch(e){console.error("Error fetching partners:",e)}finally{m(!1)}},[h,f,v]);(0,t.useEffect)(()=>{S()},[S]);let P=async e=>{if(N.partner){M(!0);try{if(!(await fetch(`/api/sovra/partners/${N.partner.id}/suspend`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:e})})).ok)throw Error("Failed to suspend partner");await S(),w({open:!1,partner:null})}catch(e){console.error("Error suspending partner:",e)}finally{M(!1)}}},O=async e=>{M(!0);try{if(!(await fetch(`/api/sovra/partners/${e.id}/reactivate`,{method:"POST"})).ok)throw Error("Failed to reactivate partner");await S()}catch(e){console.error("Error reactivating partner:",e)}finally{M(!1)}},F=async()=>{if(C.partner){M(!0);try{if(!(await fetch(`/api/sovra/partners/${C.partner.id}/delete`,{method:"DELETE"})).ok)throw Error("Failed to delete partner");await S(),E({open:!1,partner:null})}catch(e){console.error("Error deleting partner:",e)}finally{M(!1)}}},B=s.filter(e=>{if(!u)return!0;let r=u.toLowerCase();return e.companyName.toLowerCase().includes(r)||e.contactName?.toLowerCase().includes(r)||e.contactEmail?.toLowerCase().includes(r)}),U={total:s.length,active:s.filter(e=>"active"===e.status).length,suspended:s.filter(e=>"suspended"===e.status).length,byTier:{bronze:s.filter(e=>"bronze"===e.tier).length,silver:s.filter(e=>"silver"===e.tier).length,gold:s.filter(e=>"gold"===e.tier).length,platinum:s.filter(e=>"platinum"===e.tier).length}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Partners"}),(0,r.jsx)("p",{className:"text-[var(--color-text-secondary)]",children:"Gestiona los partners del ecosistema Sovra"})]}),(0,r.jsxs)("button",{onClick:()=>j(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--color-primary)] !text-white font-medium rounded-lg hover:bg-[var(--color-primary-dark)] transition-colors",children:[(0,r.jsx)(l.Plus,{className:"w-5 h-5"}),"Nuevo Partner"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:[(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Total Partners"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:U.total})]}),(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:[(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Activos"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:U.active})]}),(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:[(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Suspendidos"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-red-600",children:U.suspended})]}),(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:[(0,r.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Por Nivel"}),(0,r.jsxs)("div",{className:"flex gap-2 mt-1 text-xs",children:[(0,r.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-amber-100 text-amber-700",children:U.byTier.bronze}),(0,r.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",children:U.byTier.silver}),(0,r.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-600",children:U.byTier.gold}),(0,r.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-indigo-100 text-indigo-600",children:U.byTier.platinum})]})]})]}),(0,r.jsx)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-text-secondary)]"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar partners...",value:u,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent text-[var(--color-text-primary)]"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm text-[var(--color-text-primary)]",children:[(0,r.jsx)("option",{value:"",children:"Todos los paises"}),A.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.code))]}),(0,r.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm text-[var(--color-text-primary)]",children:[(0,r.jsx)("option",{value:"",children:"Todos los niveles"}),(0,r.jsx)("option",{value:"bronze",children:"Bronze"}),(0,r.jsx)("option",{value:"silver",children:"Silver"}),(0,r.jsx)("option",{value:"gold",children:"Gold"}),(0,r.jsx)("option",{value:"platinum",children:"Platinum"})]}),(0,r.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm text-[var(--color-text-primary)]",children:[(0,r.jsx)("option",{value:"",children:"Todos los estados"}),(0,r.jsx)("option",{value:"active",children:"Activos"}),(0,r.jsx)("option",{value:"suspended",children:"Suspendidos"})]})]})]})}),d?(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-12 text-center",children:[(0,r.jsx)(R.SovraLoader,{size:"md",className:"text-[var(--color-primary)] mx-auto"}),(0,r.jsx)("p",{className:"text-[var(--color-text-secondary)] mt-4",children:"Cargando partners..."})]}):0===B.length?(0,r.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-12 text-center",children:[(0,r.jsx)(n.Building2,{className:"w-12 h-12 text-[var(--color-text-secondary)] opacity-50 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-[var(--color-text-secondary)]",children:"No se encontraron partners"}),(u||h||f||v)&&(0,r.jsx)("button",{onClick:()=>{x(""),p(""),g(""),b("")},className:"mt-2 text-sm text-[var(--color-primary)] hover:underline",children:"Limpiar filtros"})]}):(0,r.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(t=>(0,r.jsx)(I,{partner:t,onView:()=>e.push(`/${o}/sovra/dashboard/partners/${t.id}`),onSuspend:()=>w({open:!0,partner:t}),onReactivate:()=>O(t),onDelete:()=>E({open:!0,partner:t})},t.id))}),(0,r.jsx)(z,{isOpen:y,onClose:()=>j(!1),onSuccess:S}),(0,r.jsx)(T,{isOpen:N.open,partner:N.partner,onClose:()=>w({open:!1,partner:null}),onConfirm:P,loading:k}),(0,r.jsx)(L,{isOpen:C.open,partner:C.partner,onClose:()=>E({open:!1,partner:null}),onConfirm:F,loading:k})]})}e.s(["default",()=>O],53023)}]);