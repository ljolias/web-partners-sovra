{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/SovraLoader.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\n\ninterface SovraLoaderProps {\n  /** Size of the loader */\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n  /** Additional CSS classes */\n  className?: string;\n  /** Whether to animate the loader */\n  animate?: boolean;\n}\n\n// Sovra logo paths - representing the 4 products in the chain\nconst logoPaths = [\n  \"M801.88,842.78c-8.1,47.41-30.86,89.85-63.42,122.39-41.2,41.2-98.19,66.73-161.09,66.73-125.41,0-227.2-101.41-227.74-226.71v-271.76h146.2v277.65c0,45.09,36.52,81.62,81.54,81.62,22.56,0,42.97-9.12,57.73-23.89,7.41-7.41,13.38-16.22,17.52-26.01h149.27Z\",\n  \"M805.17,349.63v271.82h-146.18v-277.65c0-45.09-36.52-81.62-81.62-81.62-22.54,0-42.89,9.12-57.67,23.89-7.39,7.39-13.35,16.18-17.46,25.96h-149.32c8.08-47.39,30.83-89.77,63.44-122.39,41.18-41.2,98.12-66.73,161.01-66.73,125.49,0,227.2,101.41,227.8,226.71Z\",\n  \"M1031.89,577.44c0,125.41-101.35,227.12-226.73,227.74h-271.75v-146.15h277.65c45.02,0,81.62-36.52,81.62-81.6,0-22.56-9.12-42.97-23.95-57.73-7.41-7.41-16.2-13.38-25.98-17.5v-149.3c47.44,8.1,89.83,30.86,122.4,63.44,41.26,41.26,66.73,98.19,66.73,161.09Z\",\n  \"M621.39,349.63v146.2h-277.67c-45.02,0-81.6,36.52-81.6,81.62,0,22.54,9.17,42.95,23.95,57.73,7.39,7.39,16.18,13.37,25.96,17.48v149.25c-47.41-8.08-89.85-30.83-122.4-63.44-41.2-41.2-66.71-98.14-66.71-161.01,0-125.43,101.41-227.27,226.71-227.82h271.76Z\",\n];\n\nconst sizeClasses = {\n  sm: \"w-6 h-6\",\n  md: \"w-10 h-10\",\n  lg: \"w-16 h-16\",\n  xl: \"w-24 h-24\",\n};\n\n/**\n * SovraLoader - Animated loading spinner using the Sovra logo\n */\nexport function SovraLoader({\n  size = \"md\",\n  className = \"\",\n  animate = true\n}: SovraLoaderProps) {\n  const sizeClass = sizeClasses[size];\n  const cycleDuration = 1.2;\n  const pathDelay = cycleDuration / 4;\n\n  if (!animate) {\n    return (\n      <svg\n        className={`${sizeClass} ${className}`}\n        viewBox=\"0 0 1154.81 1154.81\"\n        fill=\"none\"\n      >\n        {logoPaths.map((d, index) => (\n          <path key={index} d={d} fill=\"currentColor\" />\n        ))}\n      </svg>\n    );\n  }\n\n  return (\n    <motion.svg\n      className={`${sizeClass} ${className}`}\n      viewBox=\"0 0 1154.81 1154.81\"\n      fill=\"none\"\n      animate={{ rotate: 360 }}\n      transition={{\n        duration: 3,\n        repeat: Infinity,\n        ease: \"linear\",\n      }}\n    >\n      {logoPaths.map((d, index) => (\n        <motion.path\n          key={index}\n          d={d}\n          fill=\"currentColor\"\n          initial={{ opacity: 0.2 }}\n          animate={{\n            opacity: [0.2, 1, 0.2],\n          }}\n          transition={{\n            duration: cycleDuration,\n            repeat: Infinity,\n            ease: \"easeInOut\",\n            delay: index * pathDelay,\n          }}\n        />\n      ))}\n    </motion.svg>\n  );\n}\n\nexport default SovraLoader;\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAaA,8DAA8D;AAC9D,MAAM,YAAY;IAChB;IACA;IACA;IACA;CACD;AAED,MAAM,cAAc;IAClB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAKO,SAAS,YAAY,EAC1B,OAAO,IAAI,EACX,YAAY,EAAE,EACd,UAAU,IAAI,EACG;IACjB,MAAM,YAAY,WAAW,CAAC,KAAK;IACnC,MAAM,gBAAgB;IACtB,MAAM,YAAY,gBAAgB;IAElC,IAAI,CAAC,SAAS;QACZ,qBACE,+YAAC;YACC,WAAW,GAAG,UAAU,CAAC,EAAE,WAAW;YACtC,SAAQ;YACR,MAAK;sBAEJ,UAAU,GAAG,CAAC,CAAC,GAAG,sBACjB,+YAAC;oBAAiB,GAAG;oBAAG,MAAK;mBAAlB;;;;;;;;;;IAInB;IAEA,qBACE,+YAAC,gVAAM,CAAC,GAAG;QACT,WAAW,GAAG,UAAU,CAAC,EAAE,WAAW;QACtC,SAAQ;QACR,MAAK;QACL,SAAS;YAAE,QAAQ;QAAI;QACvB,YAAY;YACV,UAAU;YACV,QAAQ;YACR,MAAM;QACR;kBAEC,UAAU,GAAG,CAAC,CAAC,GAAG,sBACjB,+YAAC,gVAAM,CAAC,IAAI;gBAEV,GAAG;gBACH,MAAK;gBACL,SAAS;oBAAE,SAAS;gBAAI;gBACxB,SAAS;oBACP,SAAS;wBAAC;wBAAK;wBAAG;qBAAI;gBACxB;gBACA,YAAY;oBACV,UAAU;oBACV,QAAQ;oBACR,MAAM;oBACN,OAAO,QAAQ;gBACjB;eAZK;;;;;;;;;;AAiBf;uCAEe"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/button.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, type ButtonHTMLAttributes } from 'react';\nimport { motion } from 'framer-motion';\nimport { cn } from '@/lib/utils';\nimport { SovraLoader } from './SovraLoader';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'primary', size = 'md', isLoading, disabled, children, ...props }, ref) => {\n    const baseStyles =\n      'inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';\n\n    const variants = {\n      primary: 'bg-[var(--color-primary)] !text-white hover:opacity-90 focus:ring-[var(--color-primary)]',\n      secondary: 'bg-[var(--color-surface-hover)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-hover)] focus:ring-[var(--color-primary)]',\n      outline: 'border border-[var(--color-border)] bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] hover:border-[var(--color-border-hover)] focus:ring-[var(--color-primary)]',\n      ghost: 'bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] focus:ring-[var(--color-primary)]',\n      danger: 'bg-red-600 !text-white hover:bg-red-700 focus:ring-red-500',\n    };\n\n    const sizes = {\n      sm: 'px-3 py-1.5 text-sm',\n      md: 'px-4 py-2 text-sm',\n      lg: 'px-6 py-3 text-base',\n    };\n\n    return (\n      <motion.button\n        ref={ref}\n        whileTap={{ scale: 0.98 }}\n        className={cn(baseStyles, variants[variant], sizes[size], className)}\n        disabled={disabled || isLoading}\n        {...(props as React.ComponentProps<typeof motion.button>)}\n      >\n        {isLoading ? (\n          <>\n            <SovraLoader size=\"sm\" className=\"mr-2 !w-4 !h-4\" />\n            Loading...\n          </>\n        ) : (\n          children\n        )}\n      </motion.button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAaA,MAAM,uBAAS,IAAA,oXAAU,EACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzF,MAAM,aACJ;IAEF,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;QACP,QAAQ;IACV;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,+YAAC,gVAAM,CAAC,MAAM;QACZ,KAAK;QACL,UAAU;YAAE,OAAO;QAAK;QACxB,WAAW,IAAA,8JAAE,EAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAC1D,UAAU,YAAY;QACrB,GAAI,KAAK;kBAET,0BACC;;8BACE,+YAAC,2LAAW;oBAAC,MAAK;oBAAK,WAAU;;;;;;gBAAmB;;2BAItD;;;;;;AAIR;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/card.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, type HTMLAttributes } from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface CardProps extends HTMLAttributes<HTMLDivElement> {\n  hover?: boolean;\n}\n\nconst Card = forwardRef<HTMLDivElement, CardProps>(({ className, hover = false, children, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        'rounded-xl border border-[var(--color-border)] bg-[var(--color-surface)] p-6 shadow-sm',\n        hover && 'cursor-pointer transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-[var(--color-border-hover)]',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n});\n\nCard.displayName = 'Card';\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('mb-4', className)} {...props} />\n  )\n);\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = forwardRef<HTMLHeadingElement, HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn('text-lg font-semibold text-[var(--color-text-primary)]', className)} {...props} />\n  )\n);\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn('text-sm text-[var(--color-text-secondary)]', className)} {...props} />\n  )\n);\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn('', className)} {...props} />\n);\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('mt-4 flex items-center gap-2', className)} {...props} />\n  )\n);\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;AAHA;;;;AASA,MAAM,qBAAO,IAAA,oXAAU,EAA4B,CAAC,EAAE,SAAS,EAAE,QAAQ,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACpG,qBACE,+YAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EACX,0FACA,SAAS,iHACT;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;AAEA,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,oXAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,+YAAC;QAAI,KAAK;QAAK,WAAW,IAAA,8JAAE,EAAC,QAAQ;QAAa,GAAG,KAAK;;;;;;AAG9D,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,oXAAU,EAC1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,+YAAC;QAAG,KAAK;QAAK,WAAW,IAAA,8JAAE,EAAC,0DAA0D;QAAa,GAAG,KAAK;;;;;;AAG/G,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,oXAAU,EAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,+YAAC;QAAE,KAAK;QAAK,WAAW,IAAA,8JAAE,EAAC,8CAA8C;QAAa,GAAG,KAAK;;;;;;AAGlG,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,oXAAU,EAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAQ,+YAAC;QAAI,KAAK;QAAK,WAAW,IAAA,8JAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;AAE1F,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,oXAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,+YAAC;QAAI,KAAK;QAAK,WAAW,IAAA,8JAAE,EAAC,gCAAgC;QAAa,GAAG,KAAK;;;;;;AAGtF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/input.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, type InputHTMLAttributes } from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  hint?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, hint, type = 'text', id, ...props }, ref) => {\n    const inputId = id || label?.toLowerCase().replace(/\\s+/g, '-');\n\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label htmlFor={inputId} className=\"mb-1.5 block text-sm font-medium text-gray-700\">\n            {label}\n          </label>\n        )}\n        <input\n          type={type}\n          id={inputId}\n          ref={ref}\n          className={cn(\n            'w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400',\n            'transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20',\n            'disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500',\n            error && 'border-red-500 focus:border-red-500 focus:ring-red-500/20',\n            className\n          )}\n          {...props}\n        />\n        {hint && !error && <p className=\"mt-1.5 text-sm text-gray-500\">{hint}</p>}\n        {error && <p className=\"mt-1.5 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWA,MAAM,sBAAQ,IAAA,oXAAU,EACtB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;IAC/D,MAAM,UAAU,MAAM,OAAO,cAAc,QAAQ,QAAQ;IAE3D,qBACE,+YAAC;QAAI,WAAU;;YACZ,uBACC,+YAAC;gBAAM,SAAS;gBAAS,WAAU;0BAChC;;;;;;0BAGL,+YAAC;gBACC,MAAM;gBACN,IAAI;gBACJ,KAAK;gBACL,WAAW,IAAA,8JAAE,EACX,mGACA,sGACA,0EACA,SAAS,6DACT;gBAED,GAAG,KAAK;;;;;;YAEV,QAAQ,CAAC,uBAAS,+YAAC;gBAAE,WAAU;0BAAgC;;;;;;YAC/D,uBAAS,+YAAC;gBAAE,WAAU;0BAA+B;;;;;;;;;;;;AAG5D;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/select.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, type SelectHTMLAttributes } from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  options: { value: string; label: string }[];\n}\n\nconst Select = forwardRef<HTMLSelectElement, SelectProps>(\n  ({ className, label, error, options, id, ...props }, ref) => {\n    const selectId = id || label?.toLowerCase().replace(/\\s+/g, '-');\n\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label htmlFor={selectId} className=\"mb-1.5 block text-sm font-medium text-gray-700\">\n            {label}\n          </label>\n        )}\n        <select\n          id={selectId}\n          ref={ref}\n          className={cn(\n            'w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-900',\n            'transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20',\n            'disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500',\n            error && 'border-red-500 focus:border-red-500 focus:ring-red-500/20',\n            className\n          )}\n          {...props}\n        >\n          {options.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n        {error && <p className=\"mt-1.5 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = 'Select';\n\nexport { Select };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWA,MAAM,uBAAS,IAAA,oXAAU,EACvB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;IACnD,MAAM,WAAW,MAAM,OAAO,cAAc,QAAQ,QAAQ;IAE5D,qBACE,+YAAC;QAAI,WAAU;;YACZ,uBACC,+YAAC;gBAAM,SAAS;gBAAU,WAAU;0BACjC;;;;;;0BAGL,+YAAC;gBACC,IAAI;gBACJ,KAAK;gBACL,WAAW,IAAA,8JAAE,EACX,uFACA,sGACA,0EACA,SAAS,6DACT;gBAED,GAAG,KAAK;0BAER,QAAQ,GAAG,CAAC,CAAC,uBACZ,+YAAC;wBAA0B,OAAO,OAAO,KAAK;kCAC3C,OAAO,KAAK;uBADF,OAAO,KAAK;;;;;;;;;;YAK5B,uBAAS,+YAAC;gBAAE,WAAU;0BAA+B;;;;;;;;;;;;AAG5D;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/textarea.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, type TextareaHTMLAttributes } from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string;\n  error?: string;\n}\n\nconst Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, label, error, id, ...props }, ref) => {\n    const textareaId = id || label?.toLowerCase().replace(/\\s+/g, '-');\n\n    return (\n      <div className=\"w-full\">\n        {label && (\n          <label htmlFor={textareaId} className=\"mb-1.5 block text-sm font-medium text-gray-700\">\n            {label}\n          </label>\n        )}\n        <textarea\n          id={textareaId}\n          ref={ref}\n          className={cn(\n            'w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400',\n            'transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20',\n            'disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500',\n            'min-h-[100px] resize-y',\n            error && 'border-red-500 focus:border-red-500 focus:ring-red-500/20',\n            className\n          )}\n          {...props}\n        />\n        {error && <p className=\"mt-1.5 text-sm text-red-600\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUA,MAAM,yBAAW,IAAA,oXAAU,EACzB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;IAC1C,MAAM,aAAa,MAAM,OAAO,cAAc,QAAQ,QAAQ;IAE9D,qBACE,+YAAC;QAAI,WAAU;;YACZ,uBACC,+YAAC;gBAAM,SAAS;gBAAY,WAAU;0BACnC;;;;;;0BAGL,+YAAC;gBACC,IAAI;gBACJ,KAAK;gBACL,WAAW,IAAA,8JAAE,EACX,mGACA,sGACA,0EACA,0BACA,SAAS,6DACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,+YAAC;gBAAE,WAAU;0BAA+B;;;;;;;;;;;;AAG5D;AAGF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/badge.tsx"],"sourcesContent":["'use client';\n\nimport { type HTMLAttributes } from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface BadgeProps extends HTMLAttributes<HTMLSpanElement> {\n  variant?: 'default' | 'success' | 'warning' | 'danger' | 'info' | 'secondary' | 'outline' | 'destructive' | 'primary';\n}\n\nfunction Badge({ className, variant = 'default', ...props }: BadgeProps) {\n  const variants = {\n    default: 'bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]',\n    success: 'bg-green-500/10 text-green-500',\n    warning: 'bg-amber-500/10 text-amber-500',\n    danger: 'bg-red-500/10 text-red-500',\n    info: 'bg-[var(--color-primary)]/10 text-[var(--color-primary)]',\n    secondary: 'bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]',\n    outline: 'bg-transparent border border-[var(--color-border)] text-[var(--color-text-secondary)]',\n    destructive: 'bg-red-500/10 text-red-500',\n    primary: 'bg-[var(--color-primary)]/10 text-[var(--color-primary)]',\n  };\n\n  return (\n    <span\n      className={cn(\n        'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium',\n        variants[variant],\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Badge };\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASA,SAAS,MAAM,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAmB;IACrE,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;QACN,WAAW;QACX,SAAS;QACT,aAAa;QACb,SAAS;IACX;IAEA,qBACE,+YAAC;QACC,WAAW,IAAA,8JAAE,EACX,2EACA,QAAQ,CAAC,QAAQ,EACjB;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/progress.tsx"],"sourcesContent":["'use client';\n\nimport { type HTMLAttributes } from 'react';\nimport { motion } from 'framer-motion';\nimport { cn } from '@/lib/utils';\n\nexport interface ProgressProps extends HTMLAttributes<HTMLDivElement> {\n  value: number;\n  max?: number;\n  showLabel?: boolean;\n  variant?: 'default' | 'success' | 'warning' | 'danger';\n}\n\nfunction Progress({\n  className,\n  value,\n  max = 100,\n  showLabel = false,\n  variant = 'default',\n  ...props\n}: ProgressProps) {\n  const percentage = Math.min(Math.max((value / max) * 100, 0), 100);\n\n  const variants = {\n    default: 'bg-indigo-600',\n    success: 'bg-green-500',\n    warning: 'bg-yellow-500',\n    danger: 'bg-red-500',\n  };\n\n  return (\n    <div className={cn('w-full', className)} {...props}>\n      {showLabel && (\n        <div className=\"mb-1 flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Progress</span>\n          <span className=\"font-medium text-gray-900\">{Math.round(percentage)}%</span>\n        </div>\n      )}\n      <div className=\"h-2 overflow-hidden rounded-full bg-gray-200\">\n        <motion.div\n          initial={{ width: 0 }}\n          animate={{ width: `${percentage}%` }}\n          transition={{ duration: 0.5, ease: 'easeOut' }}\n          className={cn('h-full rounded-full', variants[variant])}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport { Progress };\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAaA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,MAAM,GAAG,EACT,YAAY,KAAK,EACjB,UAAU,SAAS,EACnB,GAAG,OACW;IACd,MAAM,aAAa,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,AAAC,QAAQ,MAAO,KAAK,IAAI;IAE9D,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;IACV;IAEA,qBACE,+YAAC;QAAI,WAAW,IAAA,8JAAE,EAAC,UAAU;QAAa,GAAG,KAAK;;YAC/C,2BACC,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,+YAAC;wBAAK,WAAU;;4BAA6B,KAAK,KAAK,CAAC;4BAAY;;;;;;;;;;;;;0BAGxE,+YAAC;gBAAI,WAAU;0BACb,cAAA,+YAAC,gVAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,OAAO;oBAAE;oBACpB,SAAS;wBAAE,OAAO,GAAG,WAAW,CAAC,CAAC;oBAAC;oBACnC,YAAY;wBAAE,UAAU;wBAAK,MAAM;oBAAU;oBAC7C,WAAW,IAAA,8JAAE,EAAC,uBAAuB,QAAQ,CAAC,QAAQ;;;;;;;;;;;;;;;;;AAKhE"}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/alert.tsx"],"sourcesContent":["'use client';\n\nimport { type HTMLAttributes } from 'react';\nimport { AlertCircle, CheckCircle2, Info, XCircle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport interface AlertProps extends HTMLAttributes<HTMLDivElement> {\n  variant?: 'info' | 'success' | 'warning' | 'error';\n  title?: string;\n}\n\nfunction Alert({ className, variant = 'info', title, children, ...props }: AlertProps) {\n  const variants = {\n    info: {\n      container: 'bg-blue-50 border-blue-200',\n      icon: 'text-blue-500',\n      title: 'text-blue-800',\n      content: 'text-blue-700',\n    },\n    success: {\n      container: 'bg-green-50 border-green-200',\n      icon: 'text-green-500',\n      title: 'text-green-800',\n      content: 'text-green-700',\n    },\n    warning: {\n      container: 'bg-yellow-50 border-yellow-200',\n      icon: 'text-yellow-500',\n      title: 'text-yellow-800',\n      content: 'text-yellow-700',\n    },\n    error: {\n      container: 'bg-red-50 border-red-200',\n      icon: 'text-red-500',\n      title: 'text-red-800',\n      content: 'text-red-700',\n    },\n  };\n\n  const icons = {\n    info: Info,\n    success: CheckCircle2,\n    warning: AlertCircle,\n    error: XCircle,\n  };\n\n  const Icon = icons[variant];\n  const styles = variants[variant];\n\n  return (\n    <div\n      className={cn('flex gap-3 rounded-lg border p-4', styles.container, className)}\n      role=\"alert\"\n      {...props}\n    >\n      <Icon className={cn('h-5 w-5 flex-shrink-0', styles.icon)} />\n      <div>\n        {title && <h4 className={cn('font-medium', styles.title)}>{title}</h4>}\n        <div className={cn('text-sm', styles.content, title && 'mt-1')}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nexport { Alert };\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AACA;AAJA;;;;AAWA,SAAS,MAAM,EAAE,SAAS,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAmB;IACnF,MAAM,WAAW;QACf,MAAM;YACJ,WAAW;YACX,MAAM;YACN,OAAO;YACP,SAAS;QACX;QACA,SAAS;YACP,WAAW;YACX,MAAM;YACN,OAAO;YACP,SAAS;QACX;QACA,SAAS;YACP,WAAW;YACX,MAAM;YACN,OAAO;YACP,SAAS;QACX;QACA,OAAO;YACL,WAAW;YACX,MAAM;YACN,OAAO;YACP,SAAS;QACX;IACF;IAEA,MAAM,QAAQ;QACZ,MAAM,8RAAI;QACV,SAAS,yTAAY;QACrB,SAAS,uTAAW;QACpB,OAAO,2SAAO;IAChB;IAEA,MAAM,OAAO,KAAK,CAAC,QAAQ;IAC3B,MAAM,SAAS,QAAQ,CAAC,QAAQ;IAEhC,qBACE,+YAAC;QACC,WAAW,IAAA,8JAAE,EAAC,oCAAoC,OAAO,SAAS,EAAE;QACpE,MAAK;QACJ,GAAG,KAAK;;0BAET,+YAAC;gBAAK,WAAW,IAAA,8JAAE,EAAC,yBAAyB,OAAO,IAAI;;;;;;0BACxD,+YAAC;;oBACE,uBAAS,+YAAC;wBAAG,WAAW,IAAA,8JAAE,EAAC,eAAe,OAAO,KAAK;kCAAI;;;;;;kCAC3D,+YAAC;wBAAI,WAAW,IAAA,8JAAE,EAAC,WAAW,OAAO,OAAO,EAAE,SAAS;kCAAU;;;;;;;;;;;;;;;;;;AAIzE"}},
    {"offset": {"line": 653, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/ui/index.ts"],"sourcesContent":["export { Button, type ButtonProps } from './button';\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter, type CardProps } from './card';\nexport { Input, type InputProps } from './input';\nexport { Select, type SelectProps } from './select';\nexport { Textarea, type TextareaProps } from './textarea';\nexport { Badge, type BadgeProps } from './badge';\nexport { Progress, type ProgressProps } from './progress';\nexport { Alert, type AlertProps } from './alert';\nexport { SovraLoader } from './SovraLoader';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/sovra/documents/ShareDocumentModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport { X, Upload, FileText, AlertCircle } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '@/components/ui';\nimport type { Partner, DocumentCategory } from '@/types';\n\ninterface ShareDocumentModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  partner: Partner;\n  onSuccess: () => void;\n}\n\nconst categories: Array<{ value: DocumentCategory; label: string; description: string }> = [\n  { value: 'financial', label: 'Financiero', description: 'Reportes de comisiones, facturas, etc.' },\n  { value: 'policy', label: 'Politica', description: 'Manuales, guias de uso, politicas' },\n  { value: 'compliance', label: 'Compliance', description: 'Documentos de cumplimiento' },\n  { value: 'correspondence', label: 'Correspondencia', description: 'Cartas y comunicaciones formales' },\n  { value: 'certification', label: 'Certificacion', description: 'Certificados y acreditaciones' },\n];\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\nconst ALLOWED_TYPES = [\n  'application/pdf',\n  'application/msword',\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  'application/vnd.ms-excel',\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  'image/png',\n  'image/jpeg',\n];\n\nexport function ShareDocumentModal({ isOpen, onClose, partner, onSuccess }: ShareDocumentModalProps) {\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState<DocumentCategory | ''>('');\n  const [file, setFile] = useState<File | null>(null);\n  const [expirationDate, setExpirationDate] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const resetForm = () => {\n    setTitle('');\n    setDescription('');\n    setCategory('');\n    setFile(null);\n    setExpirationDate('');\n    setError('');\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const validateFile = (file: File): string | null => {\n    if (file.size > MAX_FILE_SIZE) {\n      return 'El archivo excede el tamano maximo de 10MB';\n    }\n    if (!ALLOWED_TYPES.includes(file.type)) {\n      return 'Tipo de archivo no permitido. Usa PDF, DOC, DOCX, XLS, XLSX, PNG o JPG';\n    }\n    return null;\n  };\n\n  const handleFileChange = (selectedFile: File | null) => {\n    if (!selectedFile) return;\n\n    const validationError = validateFile(selectedFile);\n    if (validationError) {\n      setError(validationError);\n      return;\n    }\n\n    setFile(selectedFile);\n    setError('');\n\n    // Auto-fill title if empty\n    if (!title) {\n      const nameWithoutExt = selectedFile.name.replace(/\\.[^/.]+$/, '');\n      setTitle(nameWithoutExt);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const droppedFile = e.dataTransfer.files[0];\n    handleFileChange(droppedFile);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!file || !category || !title) {\n      setError('Por favor completa todos los campos requeridos');\n      return;\n    }\n\n    setIsUploading(true);\n    setError('');\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('title', title);\n      formData.append('description', description);\n      formData.append('category', category);\n      formData.append('partnerId', partner.id);\n      if (expirationDate) {\n        formData.append('expirationDate', expirationDate);\n      }\n\n      const res = await fetch('/api/sovra/documents', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || 'Error al subir el documento');\n      }\n\n      resetForm();\n      onSuccess();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Error al subir el documento');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n        onClick={handleClose}\n      >\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.95 }}\n          className=\"bg-[var(--color-surface)] rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-hidden border border-[var(--color-border)]\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-[var(--color-border)]\">\n            <div>\n              <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)]\">Compartir Documento</h2>\n              <p className=\"text-sm text-[var(--color-text-secondary)]\">con {partner.companyName}</p>\n            </div>\n            <button\n              onClick={handleClose}\n              className=\"p-2 rounded-lg text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-hover)] transition-colors\"\n            >\n              <X className=\"h-5 w-5\" />\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"p-4 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]\">\n            {error && (\n              <div className=\"flex items-center gap-2 p-3 bg-red-500/10 text-red-500 rounded-lg text-sm\">\n                <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\n                {error}\n              </div>\n            )}\n\n            {/* Category */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Categoria *\n              </label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value as DocumentCategory)}\n                required\n                className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n              >\n                <option value=\"\">Selecciona una categoria</option>\n                {categories.map((cat) => (\n                  <option key={cat.value} value={cat.value}>\n                    {cat.label} - {cat.description}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Title */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Titulo del documento *\n              </label>\n              <input\n                type=\"text\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                required\n                placeholder=\"Ej: Reporte de Comisiones Q4 2025\"\n                className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] placeholder:text-[var(--color-text-muted)]\"\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Descripcion (opcional)\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={2}\n                placeholder=\"Descripcion breve del documento...\"\n                className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] resize-none placeholder:text-[var(--color-text-muted)]\"\n              />\n            </div>\n\n            {/* Expiration Date */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Fecha de vencimiento (opcional)\n              </label>\n              <input\n                type=\"date\"\n                value={expirationDate}\n                onChange={(e) => setExpirationDate(e.target.value)}\n                min={new Date().toISOString().split('T')[0]}\n                className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n              />\n            </div>\n\n            {/* File Upload */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Archivo *\n              </label>\n              <div\n                onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}\n                onDragLeave={() => setIsDragging(false)}\n                onDrop={handleDrop}\n                onClick={() => fileInputRef.current?.click()}\n                className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${\n                  isDragging\n                    ? 'border-[var(--color-primary)] bg-[var(--color-primary)]/10'\n                    : file\n                    ? 'border-green-500 bg-green-500/10'\n                    : 'border-[var(--color-border)] hover:border-[var(--color-border-hover)]'\n                }`}\n              >\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  onChange={(e) => handleFileChange(e.target.files?.[0] || null)}\n                  accept=\".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg\"\n                  className=\"hidden\"\n                />\n                {file ? (\n                  <div className=\"flex items-center justify-center gap-2\">\n                    <FileText className=\"h-6 w-6 text-green-500\" />\n                    <span className=\"text-sm text-green-500 font-medium\">{file.name}</span>\n                    <button\n                      type=\"button\"\n                      onClick={(e) => { e.stopPropagation(); setFile(null); }}\n                      className=\"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                ) : (\n                  <>\n                    <Upload className=\"mx-auto h-8 w-8 text-[var(--color-text-muted)]\" />\n                    <p className=\"mt-2 text-sm text-[var(--color-text-secondary)]\">\n                      Arrastra un archivo o haz clic para seleccionar\n                    </p>\n                    <p className=\"text-xs text-[var(--color-text-muted)] mt-1\">\n                      PDF, DOC, DOCX, XLS, XLSX, PNG, JPG (max 10MB)\n                    </p>\n                  </>\n                )}\n              </div>\n            </div>\n          </form>\n\n          {/* Footer */}\n          <div className=\"flex items-center justify-end gap-3 p-4 border-t border-[var(--color-border)]\">\n            <Button variant=\"outline\" onClick={handleClose} disabled={isUploading}>\n              Cancelar\n            </Button>\n            <Button onClick={handleSubmit} disabled={isUploading || !file || !category || !title}>\n              {isUploading ? 'Subiendo...' : 'Compartir Documento'}\n            </Button>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1218, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/sovra/documents/SendContractModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport { X, Send, FileText, AlertCircle, Upload, User } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '@/components/ui';\nimport type { Partner } from '@/types';\n\ninterface SendContractModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  partner: Partner;\n  onSuccess: () => void;\n}\n\ntype ContractCategory = 'contract' | 'amendment';\n\nconst contractTypes: Array<{ value: ContractCategory; label: string; description: string }> = [\n  { value: 'contract', label: 'Contrato', description: 'Acuerdos principales, NDA, etc.' },\n  { value: 'amendment', label: 'Addendum', description: 'Modificaciones a contratos existentes' },\n];\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\nexport function SendContractModal({ isOpen, onClose, partner, onSuccess }: SendContractModalProps) {\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState<ContractCategory | ''>('contract');\n  const [file, setFile] = useState<File | null>(null);\n  const [effectiveDate, setEffectiveDate] = useState('');\n  const [expirationDate, setExpirationDate] = useState('');\n\n  // Signers\n  const [partnerSignerName, setPartnerSignerName] = useState(partner.contactName || partner.name || '');\n  const [partnerSignerEmail, setPartnerSignerEmail] = useState(partner.contactEmail || partner.email || '');\n  const [sovraSignerName, setSovraSignerName] = useState('Legal Sovra');\n  const [sovraSignerEmail, setSovraSignerEmail] = useState('legal@sovra.io');\n\n  const [isSending, setIsSending] = useState(false);\n  const [error, setError] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const resetForm = () => {\n    setTitle('');\n    setDescription('');\n    setCategory('contract');\n    setFile(null);\n    setEffectiveDate('');\n    setExpirationDate('');\n    setPartnerSignerName(partner.contactName || partner.name || '');\n    setPartnerSignerEmail(partner.contactEmail || partner.email || '');\n    setSovraSignerName('Legal Sovra');\n    setSovraSignerEmail('legal@sovra.io');\n    setError('');\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const validateFile = (file: File): string | null => {\n    if (file.size > MAX_FILE_SIZE) {\n      return 'El archivo excede el tamano maximo de 10MB';\n    }\n    if (file.type !== 'application/pdf') {\n      return 'Solo se permiten archivos PDF para contratos DocuSign';\n    }\n    return null;\n  };\n\n  const handleFileChange = (selectedFile: File | null) => {\n    if (!selectedFile) return;\n\n    const validationError = validateFile(selectedFile);\n    if (validationError) {\n      setError(validationError);\n      return;\n    }\n\n    setFile(selectedFile);\n    setError('');\n\n    // Auto-fill title if empty\n    if (!title) {\n      const nameWithoutExt = selectedFile.name.replace(/\\.[^/.]+$/, '');\n      setTitle(nameWithoutExt);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const droppedFile = e.dataTransfer.files[0];\n    handleFileChange(droppedFile);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!file || !category || !title || !partnerSignerEmail || !sovraSignerEmail) {\n      setError('Por favor completa todos los campos requeridos');\n      return;\n    }\n\n    // Validate emails\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(partnerSignerEmail) || !emailRegex.test(sovraSignerEmail)) {\n      setError('Por favor ingresa emails validos');\n      return;\n    }\n\n    setIsSending(true);\n    setError('');\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('title', title);\n      formData.append('description', description);\n      formData.append('category', category);\n      formData.append('partnerId', partner.id);\n\n      if (effectiveDate) formData.append('effectiveDate', effectiveDate);\n      if (expirationDate) formData.append('expirationDate', expirationDate);\n\n      // Signers info\n      formData.append('partnerSignerName', partnerSignerName);\n      formData.append('partnerSignerEmail', partnerSignerEmail);\n      formData.append('sovraSignerName', sovraSignerName);\n      formData.append('sovraSignerEmail', sovraSignerEmail);\n\n      const res = await fetch('/api/sovra/documents/send-contract', {\n        method: 'POST',\n        body: formData,\n      });\n\n      const responseData = await res.json();\n\n      if (!res.ok) {\n        throw new Error(responseData.error || 'Error al enviar el contrato');\n      }\n\n      // Show success message with document info\n      console.log('[SendContractModal] Document created:', responseData.document?.id, 'for partner:', partner.id);\n      alert(`Documento creado exitosamente!\\n\\nID: ${responseData.document?.id}\\nPartner: ${partner.companyName} (${partner.id})\\n\\nNota: DocuSign esta en modo demo, los emails no se enviaran.`);\n\n      resetForm();\n      onSuccess();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Error al enviar el contrato');\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n        onClick={handleClose}\n      >\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.95 }}\n          className=\"bg-[var(--color-surface)] rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden border border-[var(--color-border)]\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-[var(--color-border)]\">\n            <div>\n              <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)]\">Enviar Contrato DocuSign</h2>\n              <p className=\"text-sm text-[var(--color-text-secondary)]\">a {partner.companyName}</p>\n            </div>\n            <button\n              onClick={handleClose}\n              className=\"p-2 rounded-lg text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-hover)] transition-colors\"\n            >\n              <X className=\"h-5 w-5\" />\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"p-4 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]\">\n            {error && (\n              <div className=\"flex items-center gap-2 p-3 bg-red-500/10 text-red-500 rounded-lg text-sm\">\n                <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\n                {error}\n              </div>\n            )}\n\n            {/* Type and Title Row */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                  Tipo de contrato *\n                </label>\n                <select\n                  value={category}\n                  onChange={(e) => setCategory(e.target.value as ContractCategory)}\n                  required\n                  className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                >\n                  {contractTypes.map((type) => (\n                    <option key={type.value} value={type.value}>\n                      {type.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                  Titulo del contrato *\n                </label>\n                <input\n                  type=\"text\"\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  required\n                  placeholder=\"Ej: Acuerdo de Partner 2026\"\n                  className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] placeholder:text-[var(--color-text-muted)]\"\n                />\n              </div>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Descripcion (opcional)\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={2}\n                placeholder=\"Descripcion breve del contrato...\"\n                className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] resize-none placeholder:text-[var(--color-text-muted)]\"\n              />\n            </div>\n\n            {/* Dates */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                  Fecha de vigencia\n                </label>\n                <input\n                  type=\"date\"\n                  value={effectiveDate}\n                  onChange={(e) => setEffectiveDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                  Fecha de vencimiento\n                </label>\n                <input\n                  type=\"date\"\n                  value={expirationDate}\n                  onChange={(e) => setExpirationDate(e.target.value)}\n                  min={effectiveDate || new Date().toISOString().split('T')[0]}\n                  className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                />\n              </div>\n            </div>\n\n            {/* Signers */}\n            <div className=\"border border-[var(--color-border)] rounded-lg p-4 space-y-4\">\n              <h3 className=\"font-medium text-[var(--color-text-primary)] flex items-center gap-2\">\n                <User className=\"h-4 w-4\" />\n                Firmantes\n              </h3>\n\n              {/* Partner Signer */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-xs font-medium text-[var(--color-text-secondary)] mb-1\">\n                    Nombre del Partner *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={partnerSignerName}\n                    onChange={(e) => setPartnerSignerName(e.target.value)}\n                    required\n                    className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs font-medium text-[var(--color-text-secondary)] mb-1\">\n                    Email del Partner *\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={partnerSignerEmail}\n                    onChange={(e) => setPartnerSignerEmail(e.target.value)}\n                    required\n                    className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  />\n                </div>\n              </div>\n\n              {/* Sovra Signer */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-xs font-medium text-[var(--color-text-secondary)] mb-1\">\n                    Nombre de Sovra *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={sovraSignerName}\n                    onChange={(e) => setSovraSignerName(e.target.value)}\n                    required\n                    className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs font-medium text-[var(--color-text-secondary)] mb-1\">\n                    Email de Sovra *\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={sovraSignerEmail}\n                    onChange={(e) => setSovraSignerEmail(e.target.value)}\n                    required\n                    className=\"w-full px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* File Upload */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                Documento PDF *\n              </label>\n              <div\n                onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}\n                onDragLeave={() => setIsDragging(false)}\n                onDrop={handleDrop}\n                onClick={() => fileInputRef.current?.click()}\n                className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${\n                  isDragging\n                    ? 'border-[var(--color-primary)] bg-[var(--color-primary)]/10'\n                    : file\n                    ? 'border-green-500 bg-green-500/10'\n                    : 'border-[var(--color-border)] hover:border-[var(--color-border-hover)]'\n                }`}\n              >\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  onChange={(e) => handleFileChange(e.target.files?.[0] || null)}\n                  accept=\".pdf\"\n                  className=\"hidden\"\n                />\n                {file ? (\n                  <div className=\"flex items-center justify-center gap-2\">\n                    <FileText className=\"h-6 w-6 text-green-500\" />\n                    <span className=\"text-sm text-green-500 font-medium\">{file.name}</span>\n                    <button\n                      type=\"button\"\n                      onClick={(e) => { e.stopPropagation(); setFile(null); }}\n                      className=\"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                ) : (\n                  <>\n                    <Upload className=\"mx-auto h-8 w-8 text-[var(--color-text-muted)]\" />\n                    <p className=\"mt-2 text-sm text-[var(--color-text-secondary)]\">\n                      Arrastra un archivo PDF o haz clic para seleccionar\n                    </p>\n                    <p className=\"text-xs text-[var(--color-text-muted)] mt-1\">\n                      Solo archivos PDF (max 10MB)\n                    </p>\n                  </>\n                )}\n              </div>\n            </div>\n\n            {/* Info */}\n            <div className=\"bg-[var(--color-primary)]/10 rounded-lg p-3 text-sm text-[var(--color-primary)]\">\n              <p>\n                <strong>Nota:</strong> El contrato sera enviado a ambos firmantes via DocuSign.\n                Recibiran un email con el enlace para firmar.\n              </p>\n            </div>\n\n            {/* Mock Mode Warning */}\n            <div className=\"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3 text-sm text-amber-600 dark:text-amber-400\">\n              <p>\n                <strong>Modo Demo:</strong> DocuSign no esta configurado. Los documentos se crearan\n                pero los emails de firma no se enviaran. Para activar DocuSign, configura las\n                variables de entorno necesarias.\n              </p>\n            </div>\n          </form>\n\n          {/* Footer */}\n          <div className=\"flex items-center justify-end gap-3 p-4 border-t border-[var(--color-border)]\">\n            <Button variant=\"outline\" onClick={handleClose} disabled={isSending}>\n              Cancelar\n            </Button>\n            <Button onClick={handleSubmit} disabled={isSending || !file || !title}>\n              <Send className=\"h-4 w-4 mr-2\" />\n              {isSending ? 'Enviando...' : 'Enviar Contrato'}\n            </Button>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1999, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/sovra/documents/AdminDocumentDetail.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { X, Download, FileText, CheckCircle, Clock, AlertTriangle, User, Calendar, Shield } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button, Badge } from '@/components/ui';\nimport { cn } from '@/lib/utils';\nimport type { LegalDocument, DocumentAuditEvent, DocumentStatus } from '@/types';\n\ninterface AdminDocumentDetailProps {\n  document: LegalDocument;\n  isOpen: boolean;\n  onClose: () => void;\n  onRefresh: () => void;\n}\n\nconst statusConfig: Record<DocumentStatus, { color: string; label: string }> = {\n  draft: { color: 'text-[var(--color-text-secondary)]', label: 'Borrador' },\n  pending_signature: { color: 'text-amber-500', label: 'Pendiente Firma' },\n  partially_signed: { color: 'text-[var(--color-primary)]', label: 'Parcialmente Firmado' },\n  active: { color: 'text-green-500', label: 'Activo' },\n  expired: { color: 'text-red-500', label: 'Expirado' },\n  superseded: { color: 'text-[var(--color-text-muted)]', label: 'Reemplazado' },\n  archived: { color: 'text-[var(--color-text-muted)]', label: 'Archivado' },\n};\n\nconst categoryLabels: Record<string, string> = {\n  contract: 'Contrato',\n  amendment: 'Addendum',\n  compliance: 'Compliance',\n  financial: 'Financiero',\n  certification: 'Certificacion',\n  policy: 'Politica',\n  correspondence: 'Correspondencia',\n};\n\nexport function AdminDocumentDetail({ document, isOpen, onClose, onRefresh }: AdminDocumentDetailProps) {\n  const [auditEvents, setAuditEvents] = useState<DocumentAuditEvent[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (isOpen && document.id) {\n      fetchAuditEvents();\n    }\n  }, [isOpen, document.id]);\n\n  const fetchAuditEvents = async () => {\n    setIsLoading(true);\n    try {\n      const res = await fetch(`/api/sovra/documents/${document.id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setAuditEvents(data.auditEvents || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch audit events:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const formatShortDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  const handleVerify = async (approved: boolean) => {\n    try {\n      const res = await fetch(`/api/sovra/documents/${document.id}/verify`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          status: approved ? 'verified' : 'rejected',\n          notes: approved ? 'Documento verificado por admin' : 'Documento rechazado por admin',\n        }),\n      });\n\n      if (res.ok) {\n        onRefresh();\n        onClose();\n      }\n    } catch (error) {\n      console.error('Failed to verify document:', error);\n    }\n  };\n\n  const getActionIcon = (action: DocumentAuditEvent['action']) => {\n    switch (action) {\n      case 'created':\n      case 'uploaded':\n        return FileText;\n      case 'signed':\n        return CheckCircle;\n      case 'sent_for_signature':\n        return Clock;\n      case 'declined':\n      case 'rejected':\n        return AlertTriangle;\n      case 'verified':\n        return Shield;\n      default:\n        return FileText;\n    }\n  };\n\n  const getActionLabel = (action: string) => {\n    const labels: Record<string, string> = {\n      created: 'Documento creado',\n      uploaded: 'Documento subido',\n      signed: 'Firmado',\n      sent_for_signature: 'Enviado para firma',\n      viewed: 'Visualizado',\n      downloaded: 'Descargado',\n      declined: 'Rechazado',\n      rejected: 'Rechazado',\n      expired: 'Expirado',\n      archived: 'Archivado',\n      new_version_created: 'Nueva version creada',\n      verified: 'Verificado',\n    };\n    return labels[action] || action;\n  };\n\n  const needsVerification =\n    document.type === 'upload' && document.uploadMetadata?.verificationStatus === 'pending';\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.95 }}\n          className=\"bg-[var(--color-surface)] rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col border border-[var(--color-border)]\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-[var(--color-border)]\">\n            <div className=\"flex-1 min-w-0\">\n              <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] truncate\">\n                {document.title}\n              </h2>\n              {document.version > 1 && (\n                <span className=\"text-sm text-[var(--color-text-secondary)]\">v{document.version}</span>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              className=\"p-2 rounded-lg text-[var(--color-text-secondary)] hover:bg-[var(--color-surface-hover)] transition-colors ml-4\"\n            >\n              <X className=\"h-5 w-5\" />\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-6\">\n            {/* Status and Badges */}\n            <div className=\"flex items-center gap-3 flex-wrap\">\n              <Badge\n                variant={document.status === 'active' ? 'success' : document.status === 'pending_signature' ? 'warning' : 'secondary'}\n              >\n                {statusConfig[document.status].label}\n              </Badge>\n              <Badge variant=\"outline\">\n                {categoryLabels[document.category]}\n              </Badge>\n              {document.type === 'docusign' && (\n                <Badge variant=\"outline\">DocuSign</Badge>\n              )}\n              {needsVerification && (\n                <Badge variant=\"warning\">Pendiente Verificacion</Badge>\n              )}\n            </div>\n\n            {/* Description */}\n            {document.description && (\n              <div>\n                <h3 className=\"text-sm font-medium text-[var(--color-text-primary)] mb-1\">Descripcion</h3>\n                <p className=\"text-sm text-[var(--color-text-secondary)]\">{document.description}</p>\n              </div>\n            )}\n\n            {/* Document Info */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              {document.effectiveDate && (\n                <div>\n                  <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                    <Calendar className=\"h-4 w-4\" />\n                    Fecha de vigencia\n                  </div>\n                  <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                    {formatShortDate(document.effectiveDate)}\n                  </p>\n                </div>\n              )}\n\n              {document.expirationDate && (\n                <div>\n                  <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                    <Calendar className=\"h-4 w-4\" />\n                    Fecha de vencimiento\n                  </div>\n                  <p className={cn(\n                    'text-sm font-medium',\n                    new Date(document.expirationDate) < new Date()\n                      ? 'text-red-500'\n                      : 'text-[var(--color-text-primary)]'\n                  )}>\n                    {formatShortDate(document.expirationDate)}\n                  </p>\n                </div>\n              )}\n\n              <div>\n                <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                  <User className=\"h-4 w-4\" />\n                  Creado por\n                </div>\n                <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                  {document.createdByName || 'Desconocido'}\n                </p>\n              </div>\n\n              <div>\n                <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                  <Calendar className=\"h-4 w-4\" />\n                  Fecha de creacion\n                </div>\n                <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                  {formatShortDate(document.createdAt)}\n                </p>\n              </div>\n            </div>\n\n            {/* DocuSign Signers */}\n            {document.type === 'docusign' && document.docusignMetadata?.signers && (\n              <div>\n                <h3 className=\"text-sm font-medium text-[var(--color-text-primary)] mb-3\">Firmas</h3>\n                <div className=\"space-y-2\">\n                  {document.docusignMetadata.signers.map((signer, idx) => (\n                    <div\n                      key={idx}\n                      className=\"flex items-center justify-between p-3 bg-[var(--color-surface-hover)] rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"h-8 w-8 rounded-full bg-[var(--color-primary)]/10 flex items-center justify-center\">\n                          <User className=\"h-4 w-4 text-[var(--color-primary)]\" />\n                        </div>\n                        <div>\n                          <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">{signer.name}</p>\n                          <p className=\"text-xs text-[var(--color-text-secondary)]\">\n                            {signer.role === 'sovra' ? 'Sovra' : 'Partner'} - {signer.email}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        {signer.status === 'signed' ? (\n                          <>\n                            <Badge variant=\"success\" className=\"text-xs\">Firmado</Badge>\n                            {signer.signedAt && (\n                              <p className=\"text-xs text-[var(--color-text-secondary)] mt-1\">\n                                {formatDate(signer.signedAt)}\n                              </p>\n                            )}\n                          </>\n                        ) : signer.status === 'declined' ? (\n                          <Badge variant=\"destructive\" className=\"text-xs\">Rechazado</Badge>\n                        ) : (\n                          <Badge variant=\"warning\" className=\"text-xs\">Pendiente</Badge>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Upload Info */}\n            {document.type === 'upload' && document.uploadMetadata && (\n              <div>\n                <h3 className=\"text-sm font-medium text-[var(--color-text-primary)] mb-3\">Informacion del archivo</h3>\n                <div className=\"p-3 bg-[var(--color-surface-hover)] rounded-lg space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-[var(--color-text-secondary)]\">Nombre del archivo</span>\n                    <span className=\"text-[var(--color-text-primary)]\">{document.uploadMetadata.fileName}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-[var(--color-text-secondary)]\">Subido por</span>\n                    <span className=\"text-[var(--color-text-primary)]\">\n                      {document.uploadMetadata.uploadedByName}\n                      {document.uploadMetadata.uploadedBy === 'sovra' ? ' (Sovra)' : ' (Partner)'}\n                    </span>\n                  </div>\n                  {document.uploadMetadata.verificationStatus && (\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"text-[var(--color-text-secondary)]\">Estado de verificacion</span>\n                      <Badge\n                        variant={\n                          document.uploadMetadata.verificationStatus === 'verified'\n                            ? 'success'\n                            : document.uploadMetadata.verificationStatus === 'rejected'\n                            ? 'destructive'\n                            : 'warning'\n                        }\n                      >\n                        {document.uploadMetadata.verificationStatus === 'verified'\n                          ? 'Verificado'\n                          : document.uploadMetadata.verificationStatus === 'rejected'\n                          ? 'Rechazado'\n                          : 'Pendiente'}\n                      </Badge>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Audit Timeline */}\n            {auditEvents.length > 0 && (\n              <div>\n                <h3 className=\"text-sm font-medium text-[var(--color-text-primary)] mb-3\">Historial</h3>\n                <div className=\"space-y-3\">\n                  {auditEvents.map((event) => {\n                    const Icon = getActionIcon(event.action);\n                    return (\n                      <div key={event.id} className=\"flex gap-3\">\n                        <div className=\"flex-shrink-0\">\n                          <div className=\"h-8 w-8 rounded-full bg-[var(--color-surface-hover)] flex items-center justify-center\">\n                            <Icon className=\"h-4 w-4 text-[var(--color-text-secondary)]\" />\n                          </div>\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm text-[var(--color-text-primary)]\">\n                            {getActionLabel(event.action)}\n                            {event.actorName && (\n                              <span className=\"text-[var(--color-text-secondary)]\"> - {event.actorName}</span>\n                            )}\n                          </p>\n                          <p className=\"text-xs text-[var(--color-text-secondary)]\">\n                            {formatDate(event.timestamp)}\n                          </p>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Footer Actions */}\n          <div className=\"flex items-center justify-end gap-3 p-4 border-t border-[var(--color-border)]\">\n            {needsVerification && (\n              <>\n                <Button variant=\"outline\" onClick={() => handleVerify(false)}>\n                  Rechazar\n                </Button>\n                <Button onClick={() => handleVerify(true)}>\n                  <CheckCircle className=\"h-4 w-4 mr-2\" />\n                  Verificar\n                </Button>\n              </>\n            )}\n            {document.type === 'docusign' && document.docusignMetadata?.certificateUrl && (\n              <Button variant=\"outline\">\n                <Shield className=\"h-4 w-4 mr-2\" />\n                Descargar Certificado\n              </Button>\n            )}\n            <Button variant=\"outline\">\n              <Download className=\"h-4 w-4 mr-2\" />\n              Descargar\n            </Button>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2878, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/app/%5Blocale%5D/sovra/dashboard/documents/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { Search, Filter, Plus, Send, Upload, Eye, Download, CheckCircle, Clock, AlertTriangle, FileText, Users } from 'lucide-react';\nimport { Button, Badge, Card, CardContent, SovraLoader } from '@/components/ui';\nimport { cn } from '@/lib/utils';\nimport type { Partner, LegalDocument, DocumentCategory, DocumentStatus } from '@/types';\n\n// Import modals\nimport { ShareDocumentModal } from '@/components/sovra/documents/ShareDocumentModal';\nimport { SendContractModal } from '@/components/sovra/documents/SendContractModal';\nimport { AdminDocumentDetail } from '@/components/sovra/documents/AdminDocumentDetail';\n\nconst statusConfig: Record<DocumentStatus, { color: string; bgColor: string; label: string }> = {\n  draft: { color: 'text-[var(--color-text-secondary)]', bgColor: 'bg-[var(--color-surface-hover)]', label: 'Borrador' },\n  pending_signature: { color: 'text-amber-500', bgColor: 'bg-amber-500/10', label: 'Pendiente Firma' },\n  partially_signed: { color: 'text-[var(--color-primary)]', bgColor: 'bg-[var(--color-primary)]/10', label: 'Parcialmente Firmado' },\n  active: { color: 'text-green-500', bgColor: 'bg-green-500/10', label: 'Activo' },\n  expired: { color: 'text-red-500', bgColor: 'bg-red-500/10', label: 'Expirado' },\n  superseded: { color: 'text-[var(--color-text-muted)]', bgColor: 'bg-[var(--color-surface-hover)]', label: 'Reemplazado' },\n  archived: { color: 'text-[var(--color-text-muted)]', bgColor: 'bg-[var(--color-surface-hover)]', label: 'Archivado' },\n};\n\nconst categoryLabels: Record<DocumentCategory, string> = {\n  contract: 'Contrato',\n  amendment: 'Addendum',\n  compliance: 'Compliance',\n  financial: 'Financiero',\n  certification: 'Certificacion',\n  policy: 'Politica',\n  correspondence: 'Correspondencia',\n};\n\nexport default function SovraDocumentsPage() {\n  const [partners, setPartners] = useState<Partner[]>([]);\n  const [selectedPartner, setSelectedPartner] = useState<Partner | null>(null);\n  const [documents, setDocuments] = useState<LegalDocument[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<DocumentCategory | 'all'>('all');\n  const [selectedStatus, setSelectedStatus] = useState<DocumentStatus | 'all'>('all');\n\n  // Modals\n  const [isShareModalOpen, setIsShareModalOpen] = useState(false);\n  const [isSendContractModalOpen, setIsSendContractModalOpen] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState<LegalDocument | null>(null);\n\n  // Fetch partners\n  useEffect(() => {\n    async function fetchPartners() {\n      try {\n        const res = await fetch('/api/sovra/partners');\n        if (res.ok) {\n          const data = await res.json();\n          setPartners(data.partners || []);\n        }\n      } catch (error) {\n        console.error('Failed to fetch partners:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchPartners();\n  }, []);\n\n  // Fetch documents for selected partner\n  const fetchDocuments = useCallback(async () => {\n    if (!selectedPartner) {\n      setDocuments([]);\n      return;\n    }\n\n    try {\n      const res = await fetch(`/api/sovra/documents?partnerId=${selectedPartner.id}`);\n      if (res.ok) {\n        const data = await res.json();\n        setDocuments(data.documents || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch documents:', error);\n    }\n  }, [selectedPartner]);\n\n  useEffect(() => {\n    fetchDocuments();\n  }, [fetchDocuments]);\n\n  // Filter documents\n  const filteredDocuments = documents.filter(doc => {\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      if (!doc.title.toLowerCase().includes(query) && !doc.description?.toLowerCase().includes(query)) {\n        return false;\n      }\n    }\n    if (selectedCategory !== 'all' && doc.category !== selectedCategory) return false;\n    if (selectedStatus !== 'all' && doc.status !== selectedStatus) return false;\n    return true;\n  });\n\n  // Group documents\n  const pendingDocs = filteredDocuments.filter(d =>\n    d.status === 'pending_signature' ||\n    d.status === 'partially_signed' ||\n    (d.type === 'upload' && d.uploadMetadata?.verificationStatus === 'pending')\n  );\n  const activeDocs = filteredDocuments.filter(d =>\n    d.status === 'active' &&\n    !(d.type === 'upload' && d.uploadMetadata?.verificationStatus === 'pending')\n  );\n  const otherDocs = filteredDocuments.filter(d =>\n    !pendingDocs.includes(d) && !activeDocs.includes(d)\n  );\n\n  const handleShareSuccess = () => {\n    setIsShareModalOpen(false);\n    fetchDocuments();\n  };\n\n  const handleSendContractSuccess = () => {\n    setIsSendContractModalOpen(false);\n    fetchDocuments();\n  };\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <SovraLoader size=\"md\" className=\"text-[var(--color-primary)]\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-[var(--color-text-primary)]\">\n          Documentos <span className=\"text-[var(--color-primary)]\">Legales</span>\n        </h1>\n        <p className=\"text-[var(--color-text-secondary)]\">Gestiona documentos y contratos de partners</p>\n      </div>\n\n      {/* Partner Selector */}\n      <Card>\n        <CardContent className=\"p-4\">\n          <label className=\"block text-sm font-medium text-[var(--color-text-primary)] mb-2\">\n            <Users className=\"inline h-4 w-4 mr-2\" />\n            Seleccionar Partner\n          </label>\n          <select\n            value={selectedPartner?.id || ''}\n            onChange={(e) => {\n              const partner = partners.find(p => p.id === e.target.value);\n              setSelectedPartner(partner || null);\n            }}\n            className=\"w-full md:w-96 px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n          >\n            <option value=\"\">-- Selecciona un partner --</option>\n            {partners.map(partner => (\n              <option key={partner.id} value={partner.id}>\n                {partner.companyName} ({partner.name})\n              </option>\n            ))}\n          </select>\n          {selectedPartner && (\n            <div className=\"mt-2 text-xs text-[var(--color-text-secondary)]\">\n              Partner ID: <code className=\"bg-[var(--color-surface-hover)] px-1 py-0.5 rounded\">{selectedPartner.id}</code>\n              {'  '}Tier: <span className=\"capitalize\">{selectedPartner.tier}</span>\n              {'  '}Email: {selectedPartner.email}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {selectedPartner && (\n        <>\n          {/* Actions */}\n          <div className=\"flex flex-wrap gap-3\">\n            <Button onClick={() => setIsSendContractModalOpen(true)}>\n              <Send className=\"h-4 w-4 mr-2\" />\n              Enviar Contrato DocuSign\n            </Button>\n            <Button variant=\"outline\" onClick={() => setIsShareModalOpen(true)}>\n              <Upload className=\"h-4 w-4 mr-2\" />\n              Compartir Documento\n            </Button>\n          </div>\n\n          {/* Filters */}\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[var(--color-text-secondary)]\" />\n              <input\n                type=\"text\"\n                placeholder=\"Buscar documentos...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] placeholder:text-[var(--color-text-muted)]\"\n              />\n            </div>\n            <select\n              value={selectedCategory}\n              onChange={(e) => setSelectedCategory(e.target.value as DocumentCategory | 'all')}\n              className=\"px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n            >\n              <option value=\"all\">Todas las categorias</option>\n              {Object.entries(categoryLabels).map(([value, label]) => (\n                <option key={value} value={value}>{label}</option>\n              ))}\n            </select>\n            <select\n              value={selectedStatus}\n              onChange={(e) => setSelectedStatus(e.target.value as DocumentStatus | 'all')}\n              className=\"px-3 py-2 border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text-primary)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n            >\n              <option value=\"all\">Todos los estados</option>\n              {Object.entries(statusConfig).map(([value, config]) => (\n                <option key={value} value={value}>{config.label}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Documents List */}\n          {filteredDocuments.length === 0 ? (\n            <Card>\n              <CardContent className=\"py-12 text-center\">\n                <FileText className=\"mx-auto h-12 w-12 text-[var(--color-text-muted)]\" />\n                <p className=\"mt-4 text-[var(--color-text-secondary)]\">\n                  {documents.length === 0\n                    ? 'No hay documentos para este partner'\n                    : 'No se encontraron documentos con los filtros aplicados'}\n                </p>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-6\">\n              {/* Pending Action */}\n              {pendingDocs.length > 0 && (\n                <div>\n                  <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-3 flex items-center gap-2\">\n                    <span className=\"h-2 w-2 rounded-full bg-amber-500\" />\n                    Requieren Accion ({pendingDocs.length})\n                  </h2>\n                  <div className=\"space-y-2\">\n                    {pendingDocs.map(doc => (\n                      <DocumentRow\n                        key={doc.id}\n                        document={doc}\n                        onView={() => setSelectedDocument(doc)}\n                        onRefresh={fetchDocuments}\n                        formatDate={formatDate}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Active Documents */}\n              {activeDocs.length > 0 && (\n                <div>\n                  <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-3 flex items-center gap-2\">\n                    <span className=\"h-2 w-2 rounded-full bg-green-500\" />\n                    Documentos Activos ({activeDocs.length})\n                  </h2>\n                  <div className=\"space-y-2\">\n                    {activeDocs.map(doc => (\n                      <DocumentRow\n                        key={doc.id}\n                        document={doc}\n                        onView={() => setSelectedDocument(doc)}\n                        onRefresh={fetchDocuments}\n                        formatDate={formatDate}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Other Documents */}\n              {otherDocs.length > 0 && (\n                <div>\n                  <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-3 flex items-center gap-2\">\n                    <span className=\"h-2 w-2 rounded-full bg-[var(--color-text-muted)]\" />\n                    Otros ({otherDocs.length})\n                  </h2>\n                  <div className=\"space-y-2\">\n                    {otherDocs.map(doc => (\n                      <DocumentRow\n                        key={doc.id}\n                        document={doc}\n                        onView={() => setSelectedDocument(doc)}\n                        onRefresh={fetchDocuments}\n                        formatDate={formatDate}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      )}\n\n      {/* Modals */}\n      {selectedPartner && (\n        <>\n          <ShareDocumentModal\n            isOpen={isShareModalOpen}\n            onClose={() => setIsShareModalOpen(false)}\n            partner={selectedPartner}\n            onSuccess={handleShareSuccess}\n          />\n          <SendContractModal\n            isOpen={isSendContractModalOpen}\n            onClose={() => setIsSendContractModalOpen(false)}\n            partner={selectedPartner}\n            onSuccess={handleSendContractSuccess}\n          />\n        </>\n      )}\n\n      {selectedDocument && (\n        <AdminDocumentDetail\n          document={selectedDocument}\n          isOpen={!!selectedDocument}\n          onClose={() => setSelectedDocument(null)}\n          onRefresh={fetchDocuments}\n        />\n      )}\n    </div>\n  );\n}\n\n// Document Row Component\ninterface DocumentRowProps {\n  document: LegalDocument;\n  onView: () => void;\n  onRefresh: () => void;\n  formatDate: (date: string) => string;\n}\n\nfunction DocumentRow({ document, onView, onRefresh, formatDate }: DocumentRowProps) {\n  const status = statusConfig[document.status];\n  const needsVerification = document.type === 'upload' && document.uploadMetadata?.verificationStatus === 'pending';\n\n  const handleVerify = async (approved: boolean) => {\n    try {\n      const res = await fetch(`/api/sovra/documents/${document.id}/verify`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          status: approved ? 'verified' : 'rejected',\n          notes: approved ? 'Documento verificado por admin' : 'Documento rechazado por admin',\n        }),\n      });\n\n      if (res.ok) {\n        onRefresh();\n      }\n    } catch (error) {\n      console.error('Failed to verify document:', error);\n    }\n  };\n\n  return (\n    <Card className=\"hover:shadow-md transition-shadow\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-center gap-4\">\n          {/* Icon */}\n          <div className={cn('h-10 w-10 rounded-lg flex items-center justify-center', status.bgColor)}>\n            {document.status === 'active' ? (\n              <CheckCircle className={cn('h-5 w-5', status.color)} />\n            ) : document.status === 'pending_signature' || document.status === 'partially_signed' ? (\n              <Clock className={cn('h-5 w-5', status.color)} />\n            ) : document.status === 'expired' ? (\n              <AlertTriangle className={cn('h-5 w-5', status.color)} />\n            ) : (\n              <FileText className={cn('h-5 w-5', status.color)} />\n            )}\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2\">\n              <h3 className=\"font-medium text-[var(--color-text-primary)] truncate\">{document.title}</h3>\n              {document.version > 1 && (\n                <span className=\"text-xs text-[var(--color-text-secondary)]\">v{document.version}</span>\n              )}\n            </div>\n            <div className=\"flex items-center gap-2 mt-1 flex-wrap\">\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                {categoryLabels[document.category]}\n              </Badge>\n              <Badge\n                variant={document.type === 'docusign' ? 'outline' : 'secondary'}\n                className=\"text-xs\"\n              >\n                {document.type === 'docusign' ? 'DocuSign' : 'Subido'}\n              </Badge>\n              {needsVerification && (\n                <Badge variant=\"warning\" className=\"text-xs\">\n                  Pendiente Verificacion\n                </Badge>\n              )}\n            </div>\n            <p className=\"text-sm text-[var(--color-text-secondary)] mt-1\">\n              {document.createdAt && `Creado: ${formatDate(document.createdAt)}`}\n              {document.expirationDate && ` | Expira: ${formatDate(document.expirationDate)}`}\n            </p>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-2\">\n            {needsVerification && (\n              <>\n                <Button size=\"sm\" onClick={() => handleVerify(true)}>\n                  <CheckCircle className=\"h-4 w-4 mr-1\" />\n                  Verificar\n                </Button>\n                <Button size=\"sm\" variant=\"outline\" onClick={() => handleVerify(false)}>\n                  Rechazar\n                </Button>\n              </>\n            )}\n            <Button size=\"sm\" variant=\"outline\" onClick={onView}>\n              <Eye className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}