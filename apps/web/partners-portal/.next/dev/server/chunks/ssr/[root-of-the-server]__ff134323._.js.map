{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/app/%5Blocale%5D/sovra/dashboard/page.tsx"],"sourcesContent":["import {\n  getAllDeals,\n  getDealsByStatus,\n  getAllPartners,\n  getPartnersByStatus,\n  getAllAuditLogs,\n  getPartnerDeals,\n} from '@/lib/redis/operations';\nimport {\n  Clock,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n  Trophy,\n  Ban,\n  Users,\n  Building2,\n  DollarSign,\n  TrendingUp,\n  BadgeCheck,\n  Activity,\n} from 'lucide-react';\nimport Link from 'next/link';\nimport type { Partner, PartnerTier } from '@/types';\n\ninterface PageProps {\n  params: Promise<{ locale: string }>;\n}\n\nconst tierConfig: Record<PartnerTier, { label: string; emoji: string }> = {\n  bronze: { label: 'Bronze', emoji: '' },\n  silver: { label: 'Silver', emoji: '' },\n  gold: { label: 'Gold', emoji: '' },\n  platinum: { label: 'Platinum', emoji: '' },\n};\n\nexport default async function SovraDashboardPage({ params }: PageProps) {\n  const { locale } = await params;\n\n  const [\n    allDeals,\n    pendingDeals,\n    approvedDeals,\n    rejectedDeals,\n    moreInfoDeals,\n    allPartners,\n    activePartners,\n    suspendedPartners,\n    recentAuditLogs,\n  ] = await Promise.all([\n    getAllDeals(),\n    getDealsByStatus('pending_approval'),\n    getDealsByStatus('approved'),\n    getDealsByStatus('rejected'),\n    getDealsByStatus('more_info'),\n    getAllPartners(),\n    getPartnersByStatus('active'),\n    getPartnersByStatus('suspended'),\n    getAllAuditLogs(10),\n  ]);\n\n  const closedWonDeals = allDeals.filter(d => d.status === 'closed_won');\n  const closedLostDeals = allDeals.filter(d => d.status === 'closed_lost');\n\n  // Calculate partner tier distribution\n  const tierCounts = {\n    bronze: allPartners.filter(p => p.tier === 'bronze').length,\n    silver: allPartners.filter(p => p.tier === 'silver').length,\n    gold: allPartners.filter(p => p.tier === 'gold').length,\n    platinum: allPartners.filter(p => p.tier === 'platinum').length,\n  };\n\n  // Calculate estimated pipeline value (mock calculation based on deals)\n  const pipelineValue = approvedDeals.length * 50000 + pendingDeals.length * 30000;\n\n  // Calculate top partners by deal count\n  const partnerDealCounts = new Map<string, number>();\n  for (const deal of allDeals) {\n    const count = partnerDealCounts.get(deal.partnerId) || 0;\n    partnerDealCounts.set(deal.partnerId, count + 1);\n  }\n\n  const topPartners = allPartners\n    .map(partner => ({\n      ...partner,\n      dealCount: partnerDealCounts.get(partner.id) || 0,\n      wonCount: allDeals.filter(d => d.partnerId === partner.id && d.status === 'closed_won').length,\n    }))\n    .sort((a, b) => b.dealCount - a.dealCount)\n    .slice(0, 3);\n\n  // Partner stats\n  const partnerStats = [\n    {\n      label: 'Partners Activos',\n      value: activePartners.length,\n      icon: Users,\n      color: 'text-green-500',\n      bgColor: 'bg-green-500/10',\n      href: `/${locale}/sovra/dashboard/partners?status=active`,\n    },\n    {\n      label: 'Suspendidos',\n      value: suspendedPartners.length,\n      icon: Ban,\n      color: 'text-red-500',\n      bgColor: 'bg-red-500/10',\n      href: `/${locale}/sovra/dashboard/partners?status=suspended`,\n    },\n    {\n      label: 'Total Partners',\n      value: allPartners.length,\n      icon: Building2,\n      color: 'text-blue-500',\n      bgColor: 'bg-blue-500/10',\n      href: `/${locale}/sovra/dashboard/partners`,\n    },\n    {\n      label: 'Tasa Certificacion',\n      value: `${allPartners.length > 0 ? Math.round((activePartners.length / allPartners.length) * 100) : 0}%`,\n      icon: BadgeCheck,\n      color: 'text-indigo-500',\n      bgColor: 'bg-indigo-500/10',\n    },\n  ];\n\n  // Opportunity stats\n  const dealStats = [\n    {\n      label: 'Pendientes',\n      value: pendingDeals.length,\n      icon: Clock,\n      color: 'text-amber-500',\n      bgColor: 'bg-amber-500/10',\n      href: `/${locale}/sovra/dashboard/approvals`,\n    },\n    {\n      label: 'Aprobadas',\n      value: approvedDeals.length,\n      icon: CheckCircle,\n      color: 'text-green-500',\n      bgColor: 'bg-green-500/10',\n    },\n    {\n      label: 'Ganadas',\n      value: closedWonDeals.length,\n      icon: Trophy,\n      color: 'text-[var(--color-primary)]',\n      bgColor: 'bg-[var(--color-primary)]/10',\n    },\n    {\n      label: 'Perdidas',\n      value: closedLostDeals.length,\n      icon: XCircle,\n      color: 'text-[var(--color-text-secondary)]',\n      bgColor: 'bg-[var(--color-surface-hover)]',\n    },\n  ];\n\n  // Format activity logs for display\n  const activityItems = recentAuditLogs.map(log => {\n    const actionLabels: Record<string, string> = {\n      'partner.created': 'creo un nuevo partner',\n      'partner.updated': 'actualizo un partner',\n      'partner.suspended': 'suspendio un partner',\n      'partner.reactivated': 'reactivo un partner',\n      'partner.tier_changed': 'cambio el nivel de un partner',\n      'credential.issued': 'emitio una credencial',\n      'credential.revoked': 'revoco una credencial',\n      'deal.approved': 'aprobo una oportunidad',\n      'deal.rejected': 'rechazo una oportunidad',\n      'deal.info_requested': 'solicito mas informacion',\n      'document.shared': 'compartio un documento',\n      'document.verified': 'verifico un documento',\n      'pricing.updated': 'actualizo los precios',\n      'course.created': 'creo un curso',\n      'course.updated': 'actualizo un curso',\n      'course.published': 'publico un curso',\n    };\n\n    return {\n      id: log.id,\n      actorName: log.actorName,\n      action: actionLabels[log.action] || log.action,\n      entityName: log.entityName,\n      timestamp: log.timestamp,\n    };\n  });\n\n  // Recent deals for quick view\n  const recentDeals = allDeals.slice(0, 5);\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-[var(--color-text-primary)]\">\n          <span className=\"text-[var(--color-primary)]\">Dashboard</span>\n        </h1>\n        <p className=\"text-[var(--color-text-secondary)]\">Panel de administracion Sovra</p>\n      </div>\n\n      {/* Partners Section */}\n      <div>\n        <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-4 flex items-center gap-2\">\n          <Building2 className=\"w-5 h-5\" />\n          Partners\n        </h2>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          {partnerStats.map((stat) => {\n            const Icon = stat.icon;\n            const content = (\n              <div className=\"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4\">\n                <div className={`w-10 h-10 ${stat.bgColor} rounded-lg flex items-center justify-center mb-3`}>\n                  <Icon className={`w-5 h-5 ${stat.color}`} />\n                </div>\n                <p className=\"text-2xl font-bold text-[var(--color-text-primary)]\">{stat.value}</p>\n                <p className=\"text-sm text-[var(--color-text-secondary)]\">{stat.label}</p>\n              </div>\n            );\n\n            if (stat.href) {\n              return (\n                <Link key={stat.label} href={stat.href} className=\"hover:shadow-md transition-shadow rounded-xl\">\n                  {content}\n                </Link>\n              );\n            }\n\n            return <div key={stat.label}>{content}</div>;\n          })}\n        </div>\n\n        {/* Tier Distribution */}\n        <div className=\"mt-4 bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4\">\n          <p className=\"text-sm text-[var(--color-text-secondary)] mb-2\">Por Nivel:</p>\n          <div className=\"flex gap-4 flex-wrap\">\n            {(Object.entries(tierCounts) as [PartnerTier, number][]).map(([tier, count]) => (\n              <div key={tier} className=\"flex items-center gap-2\">\n                <span className=\"text-sm\">{tierConfig[tier].emoji}</span>\n                <span className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                  {tierConfig[tier].label}: {count}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Opportunities Section */}\n      <div>\n        <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-4 flex items-center gap-2\">\n          <Trophy className=\"w-5 h-5\" />\n          Oportunidades\n        </h2>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          {dealStats.map((stat) => {\n            const Icon = stat.icon;\n            const content = (\n              <div className=\"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4\">\n                <div className={`w-10 h-10 ${stat.bgColor} rounded-lg flex items-center justify-center mb-3`}>\n                  <Icon className={`w-5 h-5 ${stat.color}`} />\n                </div>\n                <p className=\"text-2xl font-bold text-[var(--color-text-primary)]\">{stat.value}</p>\n                <p className=\"text-sm text-[var(--color-text-secondary)]\">{stat.label}</p>\n              </div>\n            );\n\n            if (stat.href) {\n              return (\n                <Link key={stat.label} href={stat.href} className=\"hover:shadow-md transition-shadow rounded-xl\">\n                  {content}\n                </Link>\n              );\n            }\n\n            return <div key={stat.label}>{content}</div>;\n          })}\n        </div>\n\n        {/* Pipeline Value */}\n        <div className=\"mt-4 bg-gradient-to-r from-[var(--color-primary)]/10 to-[var(--color-accent-purple)]/10 rounded-xl border border-[var(--color-primary)]/20 p-4\">\n          <div className=\"flex items-center gap-3\">\n            <DollarSign className=\"w-6 h-6 text-[var(--color-primary)]\" />\n            <div>\n              <p className=\"text-sm text-[var(--color-text-secondary)]\">Pipeline Estimado</p>\n              <p className=\"text-2xl font-bold text-[var(--color-text-primary)]\">\n                ${pipelineValue.toLocaleString('en-US')} USD\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      {pendingDeals.length > 0 && (\n        <div className=\"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Clock className=\"w-5 h-5 text-amber-500\" />\n              <p className=\"text-amber-500\">\n                Tienes <strong>{pendingDeals.length}</strong> oportunidades pendientes de aprobacion\n              </p>\n            </div>\n            <Link\n              href={`/${locale}/sovra/dashboard/approvals`}\n              className=\"px-4 py-2 bg-amber-500 text-white rounded-lg text-sm hover:bg-amber-600\"\n            >\n              Revisar ahora\n            </Link>\n          </div>\n        </div>\n      )}\n\n      {/* Two Column Layout */}\n      <div className=\"grid lg:grid-cols-2 gap-6\">\n        {/* Top Partners */}\n        <div className=\"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)]\">\n          <div className=\"px-6 py-4 border-b border-[var(--color-border)] flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)]\">Top Partners por Oportunidades</h2>\n            <Link\n              href={`/${locale}/sovra/dashboard/partners`}\n              className=\"text-sm text-[var(--color-primary)] hover:underline\"\n            >\n              Ver todos\n            </Link>\n          </div>\n          <div className=\"divide-y divide-[var(--color-border)]\">\n            {topPartners.length === 0 ? (\n              <div className=\"p-6 text-center text-[var(--color-text-secondary)]\">\n                No hay partners registrados\n              </div>\n            ) : (\n              topPartners.map((partner, index) => {\n                const rankingStyles = [\n                  { bg: 'bg-yellow-100', text: 'text-yellow-700', label: '1' },\n                  { bg: 'bg-[var(--color-surface-hover)]', text: 'text-[var(--color-text-secondary)]', label: '2' },\n                  { bg: 'bg-amber-100', text: 'text-amber-700', label: '3' },\n                ];\n                const ranking = rankingStyles[index] || { bg: 'bg-[var(--color-primary)]/10', text: 'text-[var(--color-primary)]', label: `${index + 1}` };\n\n                return (\n                  <Link\n                    key={partner.id}\n                    href={`/${locale}/sovra/dashboard/partners/${partner.id}`}\n                    className=\"px-6 py-4 flex items-center justify-between hover:bg-[var(--color-surface-hover)] transition-colors\"\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div className={`w-8 h-8 rounded-full ${ranking.bg} flex items-center justify-center`}>\n                        <span className={`text-sm font-bold ${ranking.text}`}>{ranking.label}</span>\n                      </div>\n                      <div>\n                        <p className=\"font-medium text-[var(--color-text-primary)]\">{partner.companyName || partner.name}</p>\n                        <p className=\"text-xs text-[var(--color-text-secondary)]\">\n                          {partner.country} - {tierConfig[partner.tier].label}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-bold text-[var(--color-text-primary)]\">{partner.dealCount}</p>\n                      <p className=\"text-xs text-green-500\">{partner.wonCount} ganadas</p>\n                    </div>\n                  </Link>\n                );\n              })\n            )}\n          </div>\n        </div>\n\n        {/* Activity Feed */}\n        <div className=\"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)]\">\n          <div className=\"px-6 py-4 border-b border-[var(--color-border)] flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)] flex items-center gap-2\">\n              <Activity className=\"w-5 h-5\" />\n              Actividad Reciente\n            </h2>\n            <Link\n              href={`/${locale}/sovra/dashboard/audit`}\n              className=\"text-sm text-[var(--color-primary)] hover:underline\"\n            >\n              Ver todo\n            </Link>\n          </div>\n          <div className=\"divide-y divide-[var(--color-border)]\">\n            {activityItems.length === 0 ? (\n              <div className=\"p-6 text-center text-[var(--color-text-secondary)]\">\n                No hay actividad reciente\n              </div>\n            ) : (\n              activityItems.map((item) => (\n                <div key={item.id} className=\"px-6 py-3\">\n                  <p className=\"text-sm text-[var(--color-text-primary)]\">\n                    <span className=\"font-medium\">{item.actorName}</span>{' '}\n                    <span className=\"text-[var(--color-text-secondary)]\">{item.action}</span>\n                    {item.entityName && (\n                      <>\n                        {' '}<span className=\"font-medium\">{item.entityName}</span>\n                      </>\n                    )}\n                  </p>\n                  <p className=\"text-xs text-[var(--color-text-secondary)] mt-1\">\n                    {new Date(item.timestamp).toLocaleString('es-ES', {\n                      day: 'numeric',\n                      month: 'short',\n                      hour: '2-digit',\n                      minute: '2-digit',\n                    })}\n                  </p>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Recent Deals */}\n      <div className=\"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)]\">\n        <div className=\"px-6 py-4 border-b border-[var(--color-border)] flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold text-[var(--color-text-primary)]\">Oportunidades Recientes</h2>\n          <Link\n            href={`/${locale}/sovra/dashboard/approvals?status=all`}\n            className=\"text-sm text-[var(--color-primary)] hover:underline\"\n          >\n            Ver todas\n          </Link>\n        </div>\n        <div className=\"divide-y divide-[var(--color-border)]\">\n          {recentDeals.length === 0 ? (\n            <div className=\"p-6 text-center text-[var(--color-text-secondary)]\">\n              No hay oportunidades registradas\n            </div>\n          ) : (\n            recentDeals.map((deal) => (\n              <div key={deal.id} className=\"px-6 py-4 flex items-center justify-between\">\n                <div>\n                  <p className=\"font-medium text-[var(--color-text-primary)]\">{deal.clientName}</p>\n                  <p className=\"text-sm text-[var(--color-text-secondary)]\">\n                    {deal.country} - {deal.governmentLevel}\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <span className=\"text-sm text-[var(--color-text-secondary)]\">\n                    {new Date(deal.createdAt).toLocaleDateString('es')}\n                  </span>\n                  <StatusBadge status={deal.status} />\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction StatusBadge({ status }: { status: string }) {\n  const statusConfig: Record<string, { label: string; className: string }> = {\n    pending_approval: { label: 'Pendiente', className: 'bg-amber-500/10 text-amber-500' },\n    approved: { label: 'Aprobada', className: 'bg-green-500/10 text-green-500' },\n    rejected: { label: 'Rechazada', className: 'bg-red-500/10 text-red-500' },\n    more_info: { label: 'Mas Info', className: 'bg-orange-500/10 text-orange-500' },\n    closed_won: { label: 'Ganada', className: 'bg-[var(--color-primary)]/10 text-[var(--color-primary)]' },\n    closed_lost: { label: 'Perdida', className: 'bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]' },\n  };\n\n  const config = statusConfig[status] || { label: status, className: 'bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]' };\n\n  return (\n    <span className={`px-2 py-1 text-xs font-medium rounded-full ${config.className}`}>\n      {config.label}\n    </span>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}