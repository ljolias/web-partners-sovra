{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/portal/quotes/QuoteBuilder.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const QuoteBuilder = registerClientReference(\n    function() { throw new Error(\"Attempted to call QuoteBuilder() from the server but QuoteBuilder is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/partners-portal/src/components/portal/quotes/QuoteBuilder.tsx <module evaluation>\",\n    \"QuoteBuilder\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,yaAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wGACA","ignoreList":[0]}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/components/portal/quotes/QuoteBuilder.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const QuoteBuilder = registerClientReference(\n    function() { throw new Error(\"Attempted to call QuoteBuilder() from the server but QuoteBuilder is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/partners-portal/src/components/portal/quotes/QuoteBuilder.tsx\",\n    \"QuoteBuilder\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,yaAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oFACA","ignoreList":[0]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucasjolias/code/playground/apps/web/partners-portal/src/app/%5Blocale%5D/partners/portal/deals/%5BdealId%5D/quote/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation';\nimport { cookies } from 'next/headers';\nimport Link from 'next/link';\nimport { ArrowLeft, Lock } from 'lucide-react';\nimport { getSession, getUser, getPartner, getDeal, getPricingConfig } from '@/lib/redis/operations';\nimport { QuoteBuilder } from '@/components/portal/quotes/QuoteBuilder';\n\ninterface PageProps {\n  params: Promise<{ locale: string; dealId: string }>;\n}\n\nexport default async function QuotePage({ params }: PageProps) {\n  const { locale, dealId } = await params;\n\n  const cookieStore = await cookies();\n  const sessionId = cookieStore.get('partner_session')?.value;\n\n  if (!sessionId) {\n    redirect(`/${locale}/partners/login`);\n  }\n\n  const session = await getSession(sessionId);\n  if (!session) {\n    redirect(`/${locale}/partners/login`);\n  }\n\n  const [user, partner, deal, pricingConfig] = await Promise.all([\n    getUser(session.userId),\n    getPartner(session.partnerId),\n    getDeal(dealId),\n    getPricingConfig(),\n  ]);\n\n  if (!user || !partner) {\n    redirect(`/${locale}/partners/login`);\n  }\n\n  if (!deal) {\n    redirect(`/${locale}/partners/portal/deals`);\n  }\n\n  // Verify deal belongs to partner\n  if (deal.partnerId !== partner.id) {\n    redirect(`/${locale}/partners/portal/deals`);\n  }\n\n  // Check if deal is approved\n  if (deal.status !== 'approved') {\n    return (\n      <div className=\"max-w-2xl mx-auto\">\n        <Link\n          href={`/${locale}/partners/portal/deals/${dealId}`}\n          className=\"inline-flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-6\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Volver al deal\n        </Link>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-8 text-center\">\n          <div className=\"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <Lock className=\"w-8 h-8 text-yellow-600\" />\n          </div>\n          <h1 className=\"text-xl font-bold text-gray-900 mb-2\">\n            Oportunidad No Aprobada\n          </h1>\n          <p className=\"text-gray-600 mb-6\">\n            Solo puedes crear cotizaciones para oportunidades que han sido aprobadas por Sovra.\n          </p>\n          {deal.status === 'pending_approval' && (\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n              <p className=\"text-sm text-yellow-800\">\n                Esta oportunidad esta <strong>pendiente de aprobacion</strong>. Te notificaremos cuando sea revisada.\n              </p>\n            </div>\n          )}\n          {deal.status === 'rejected' && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <p className=\"text-sm text-red-800\">\n                Esta oportunidad fue <strong>rechazada</strong>.\n                {deal.rejectionReason && (\n                  <span className=\"block mt-2\">Razon: {deal.rejectionReason}</span>\n                )}\n              </p>\n            </div>\n          )}\n          {deal.status === 'more_info' && (\n            <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n              <p className=\"text-sm text-orange-800\">\n                Sovra ha solicitado <strong>mas informacion</strong> sobre esta oportunidad.\n                {deal.rejectionReason && (\n                  <span className=\"block mt-2\">{deal.rejectionReason}</span>\n                )}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Link\n        href={`/${locale}/partners/portal/deals/${dealId}`}\n        className=\"inline-flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-6\"\n      >\n        <ArrowLeft className=\"w-4 h-4\" />\n        Volver al deal\n      </Link>\n\n      <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Nueva Cotizacion</h1>\n\n      <QuoteBuilder\n        deal={deal}\n        partner={partner}\n        pricingConfig={pricingConfig}\n        locale={locale}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;AAMe,eAAe,UAAU,EAAE,MAAM,EAAa;IAC3D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM;IAEjC,MAAM,cAAc,MAAM,IAAA,2SAAO;IACjC,MAAM,YAAY,YAAY,GAAG,CAAC,oBAAoB;IAEtD,IAAI,CAAC,WAAW;QACd,IAAA,kWAAQ,EAAC,CAAC,CAAC,EAAE,OAAO,eAAe,CAAC;IACtC;IAEA,MAAM,UAAU,MAAM,IAAA,oLAAU,EAAC;IACjC,IAAI,CAAC,SAAS;QACZ,IAAA,kWAAQ,EAAC,CAAC,CAAC,EAAE,OAAO,eAAe,CAAC;IACtC;IAEA,MAAM,CAAC,MAAM,SAAS,MAAM,cAAc,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC7D,IAAA,iLAAO,EAAC,QAAQ,MAAM;QACtB,IAAA,oLAAU,EAAC,QAAQ,SAAS;QAC5B,IAAA,iLAAO,EAAC;QACR,IAAA,0LAAgB;KACjB;IAED,IAAI,CAAC,QAAQ,CAAC,SAAS;QACrB,IAAA,kWAAQ,EAAC,CAAC,CAAC,EAAE,OAAO,eAAe,CAAC;IACtC;IAEA,IAAI,CAAC,MAAM;QACT,IAAA,kWAAQ,EAAC,CAAC,CAAC,EAAE,OAAO,sBAAsB,CAAC;IAC7C;IAEA,iCAAiC;IACjC,IAAI,KAAK,SAAS,KAAK,QAAQ,EAAE,EAAE;QACjC,IAAA,kWAAQ,EAAC,CAAC,CAAC,EAAE,OAAO,sBAAsB,CAAC;IAC7C;IAEA,4BAA4B;IAC5B,IAAI,KAAK,MAAM,KAAK,YAAY;QAC9B,qBACE,+YAAC;YAAI,WAAU;;8BACb,+YAAC,2VAAI;oBACH,MAAM,CAAC,CAAC,EAAE,OAAO,uBAAuB,EAAE,QAAQ;oBAClD,WAAU;;sCAEV,+YAAC,iTAAS;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAInC,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;4BAAI,WAAU;sCACb,cAAA,+YAAC,8RAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,+YAAC;4BAAG,WAAU;sCAAuC;;;;;;sCAGrD,+YAAC;4BAAE,WAAU;sCAAqB;;;;;;wBAGjC,KAAK,MAAM,KAAK,oCACf,+YAAC;4BAAI,WAAU;sCACb,cAAA,+YAAC;gCAAE,WAAU;;oCAA0B;kDACf,+YAAC;kDAAO;;;;;;oCAAgC;;;;;;;;;;;;wBAInE,KAAK,MAAM,KAAK,4BACf,+YAAC;4BAAI,WAAU;sCACb,cAAA,+YAAC;gCAAE,WAAU;;oCAAuB;kDACb,+YAAC;kDAAO;;;;;;oCAAkB;oCAC9C,KAAK,eAAe,kBACnB,+YAAC;wCAAK,WAAU;;4CAAa;4CAAQ,KAAK,eAAe;;;;;;;;;;;;;;;;;;wBAKhE,KAAK,MAAM,KAAK,6BACf,+YAAC;4BAAI,WAAU;sCACb,cAAA,+YAAC;gCAAE,WAAU;;oCAA0B;kDACjB,+YAAC;kDAAO;;;;;;oCAAwB;oCACnD,KAAK,eAAe,kBACnB,+YAAC;wCAAK,WAAU;kDAAc,KAAK,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQlE;IAEA,qBACE,+YAAC;;0BACC,+YAAC,2VAAI;gBACH,MAAM,CAAC,CAAC,EAAE,OAAO,uBAAuB,EAAE,QAAQ;gBAClD,WAAU;;kCAEV,+YAAC,iTAAS;wBAAC,WAAU;;;;;;oBAAY;;;;;;;0BAInC,+YAAC;gBAAG,WAAU;0BAAwC;;;;;;0BAEtD,+YAAC,2MAAY;gBACX,MAAM;gBACN,SAAS;gBACT,eAAe;gBACf,QAAQ;;;;;;;;;;;;AAIhB"}}]
}