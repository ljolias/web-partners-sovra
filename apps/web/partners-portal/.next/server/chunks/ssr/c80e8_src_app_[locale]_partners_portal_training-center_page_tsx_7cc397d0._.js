module.exports=[40285,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(53440),e=a.i(76469),f=a.i(59279),g=a.i(56635),h=a.i(76197),i=a.i(38617),j=a.i(53659);let k=(0,j.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),l=(0,j.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var m=a.i(78551),n=a.i(9032);a.i(96149);var o=a.i(68956),p=a.i(45968),q=a.i(96219),r=a.i(6373);function s({modules:a,progress:c,locale:f,onStartModule:g,onTakeQuiz:h}){let j=(0,d.useTranslations)("training"),k=Object.values(c).filter(a=>a.completed).length,s=a.length>0?k/a.length*100:0;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:j("progress")}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[k," / ",a.length," modules completed"]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-indigo-600",children:[Math.round(s),"%"]})]}),(0,b.jsx)(q.Progress,{value:s,className:"mt-4"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:j("modules")}),(0,b.jsx)("div",{className:"space-y-4",children:a.map((a,d)=>{let k=c[a.id],q=k?.completed,s=!!k,t=k?.quizScore;return(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*d},children:(0,b.jsxs)(p.Card,{className:"flex items-center gap-4 p-4",children:[(0,b.jsx)("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg ${q?"bg-green-100 text-green-600":"bg-indigo-100 text-indigo-600"}`,children:q?(0,b.jsx)(i.CheckCircle,{className:"h-6 w-6"}):(0,b.jsx)(n.BookOpen,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:a.title[f]||a.title.en}),q&&(0,b.jsx)(r.Badge,{variant:"success",children:j("module.completed")})]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:a.description[f]||a.description.en}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-400",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.Clock,{className:"h-3 w-3"}),j("module.duration",{minutes:a.duration})]}),(0,b.jsx)("span",{children:j("module.passingScore",{score:a.passingScore})})]}),null!=t&&!q&&(0,b.jsx)("p",{className:"mt-2 text-sm text-amber-600",children:j("module.quizFailed",{score:t})})]}),(0,b.jsx)("div",{className:"flex-shrink-0",children:q?(0,b.jsxs)(r.Badge,{variant:"success",children:[(0,b.jsx)(i.CheckCircle,{className:"mr-1 h-3 w-3"}),j("module.quizPassed")]}):s?(0,b.jsx)(o.Button,{size:"sm",onClick:()=>h(a.id),children:j("module.quiz")}):(0,b.jsxs)(o.Button,{size:"sm",onClick:()=>g(a.id),children:[(0,b.jsx)(l,{className:"mr-1 h-4 w-4"}),j("module.start")]})})]})},a.id)})})]})]})}var t=a.i(89859),u=a.i(29432),v=a.i(2229),w=a.i(19447),x=a.i(40721),y=a.i(37474);function z({module:a,locale:f,onClose:g,onSubmit:h}){let j=(0,d.useTranslations)("training.quiz"),[k,l]=(0,c.useState)(0),[m,n]=(0,c.useState)(Array(a.quiz.length).fill(null)),[p,r]=(0,c.useState)(!1),[s,z]=(0,c.useState)(null),A=a.quiz[k],B=(k+1)/a.quiz.length*100,C=m.every(a=>null!==a),D=async()=>{C&&(r(!0),z(await h(m)),r(!1))};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl rounded-xl bg-white shadow-xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:j("title")}),(0,b.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:(0,b.jsx)(u.X,{className:"h-5 w-5"})})]}),(0,b.jsx)("div",{className:"p-6",children:s?(0,b.jsxs)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8",children:[s.passed?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.CheckCircle,{className:"mx-auto h-16 w-16 text-green-500"}),(0,b.jsx)("h3",{className:"mt-4 text-xl font-semibold text-gray-900",children:j("passed",{score:s.score})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.XCircle,{className:"mx-auto h-16 w-16 text-red-500"}),(0,b.jsx)("h3",{className:"mt-4 text-xl font-semibold text-gray-900",children:j("failed",{score:s.score,required:a.passingScore})})]}),(0,b.jsx)(o.Button,{className:"mt-6",onClick:g,children:"Close"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[(0,b.jsx)("span",{children:j("question",{current:k+1,total:a.quiz.length})}),(0,b.jsxs)("span",{children:[Math.round(B),"%"]})]}),(0,b.jsx)(q.Progress,{value:B})]}),(0,b.jsx)(t.AnimatePresence,{mode:"wait",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:A.question[f]||A.question.en}),(0,b.jsx)("div",{className:"space-y-3",children:(A.options[f]||A.options.en).map((a,c)=>(0,b.jsx)("button",{onClick:()=>{let a;(a=[...m])[k]=c,n(a)},className:(0,y.cn)("w-full rounded-lg border-2 p-4 text-left transition-colors",m[k]===c?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:(0,b.jsx)("span",{className:"text-sm text-gray-900",children:a})},c))})]},k)})]})}),!s&&(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 px-6 py-4",children:[(0,b.jsxs)(o.Button,{variant:"outline",onClick:()=>{k>0&&l(k-1)},disabled:0===k,children:[(0,b.jsx)(v.ChevronLeft,{className:"mr-1 h-4 w-4"}),"Previous"]}),k<a.quiz.length-1?(0,b.jsxs)(o.Button,{onClick:()=>{k<a.quiz.length-1&&l(k+1)},disabled:null===m[k],children:["Next",(0,b.jsx)(w.ChevronRight,{className:"ml-1 h-4 w-4"})]}):(0,b.jsx)(o.Button,{onClick:D,disabled:!C,isLoading:p,children:j("submit")})]})]})})}var A=a.i(34887);let B=(0,j.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var C=a.i(55385),D=a.i(92032);function E({courseId:a,topic:d,onClose:e}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(),n=(0,c.useRef)(null);(0,c.useEffect)(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[f]);let o=async b=>{if(b.preventDefault(),!h.trim()||j)return;let c={id:`msg_${Date.now()}`,role:"user",content:h,timestamp:new Date().toISOString()};g(a=>[...a,c]),i(""),k(!0);try{let b=await fetch("/api/partners/tutor/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:h,conversationId:l,courseId:a,topic:d})});if(!b.body)throw Error("No response body");let c=b.body.getReader(),e=new TextDecoder,f="",i=`msg_${Date.now()}_response`;for(g(a=>[...a,{id:i,role:"assistant",content:"",timestamp:new Date().toISOString()}]);;){let{done:a,value:b}=await c.read();if(a)break;for(let a of e.decode(b).split("\n"))if(a.startsWith("data: ")){let b=a.slice(6);if(b.startsWith("{")){let a=JSON.parse(b);"done"===a.type&&m(a.conversationId)}else f+=b,g(a=>a.map(a=>a.id===i?{...a,content:f}:a))}}}catch(a){console.error("Chat error:",a),g(a=>[...a,{id:`error_${Date.now()}`,role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date().toISOString()}])}finally{k(!1)}};return(0,b.jsxs)("div",{className:"flex flex-col h-full bg-dark-surface border border-white/10 rounded-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.Bot,{className:"w-5 h-5 text-primary"}),(0,b.jsx)("h2",{className:"font-semibold",children:"Tu Tutor de SovraGov"})]}),e&&(0,b.jsx)("button",{onClick:e,className:"text-neutral hover:text-white transition",children:"✕"})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===f.length&&(0,b.jsx)("div",{className:"text-center text-neutral py-8",children:(0,b.jsx)("p",{children:"Hola! Soy tu tutor de SovraGov. ¿Qué quieres aprender hoy?"})}),f.map(a=>(0,b.jsxs)("div",{className:`flex gap-3 ${"user"===a.role?"justify-end":"justify-start"}`,children:["assistant"===a.role&&(0,b.jsx)(C.Bot,{className:"w-5 h-5 text-primary flex-shrink-0 mt-1"}),(0,b.jsx)("div",{className:`max-w-xs px-4 py-2 rounded-lg ${"user"===a.role?"bg-primary text-white":"bg-white/10 text-white"}`,children:(0,b.jsx)("p",{className:"text-sm leading-relaxed",children:a.content})}),"user"===a.role&&(0,b.jsx)(D.User,{className:"w-5 h-5 text-primary flex-shrink-0 mt-1"})]},a.id)),j&&(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)(B,{className:"w-5 h-5 text-primary animate-spin"})}),(0,b.jsx)("div",{ref:n})]}),(0,b.jsxs)("form",{onSubmit:o,className:"p-4 border-t border-white/10 flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Pregunta sobre SovraGov...",disabled:j,className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-neutral focus:outline-none focus:border-primary"}),(0,b.jsx)("button",{type:"submit",disabled:j||!h.trim(),className:"bg-primary hover:bg-primary-dark disabled:opacity-50 p-2 rounded-lg transition",children:(0,b.jsx)(A.Send,{className:"w-5 h-5"})})]})]})}let F=(0,j.default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),G=(0,j.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var H=a.i(63508);function I({onStartChat:a}){let[d,e]=(0,c.useState)(null),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/partners/tutor/profile"),b=await a.json();e(b.profile),g(b.recommendations)}catch(a){console.error("Failed to fetch profile:",a)}finally{i(!1)}})()},[]),h)?(0,b.jsx)("div",{className:"text-neutral",children:"Cargando perfil..."}):d?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-dark-surface border border-white/10 rounded-2xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Tu Perfil de Aprendizaje"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(F,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{className:"text-sm text-neutral",children:"Nivel"})]}),(0,b.jsx)("p",{className:"text-lg font-semibold capitalize",children:d.skillLevel})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(G,{className:"w-5 h-5 text-yellow-400"}),(0,b.jsx)("span",{className:"text-sm text-neutral",children:"Ritmo"})]}),(0,b.jsx)("p",{className:"text-lg font-semibold capitalize",children:d.preferredPace})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(H.Eye,{className:"w-5 h-5 text-purple-400"}),(0,b.jsx)("span",{className:"text-sm text-neutral",children:"Estilo"})]}),(0,b.jsx)("p",{className:"text-lg font-semibold capitalize",children:d.learningStyle})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(n.BookOpen,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-sm text-neutral",children:"Conversaciones"})]}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:d.conversationCount})]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-dark-surface border border-red-500/30 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3 text-red-400",children:"Necesitas Ayuda Con"}),d.strugglingTopics.length>0?(0,b.jsx)("div",{className:"space-y-2",children:d.strugglingTopics.map(a=>(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded px-3 py-2 text-sm",children:a},a))}):(0,b.jsx)("p",{className:"text-neutral",children:"¡Vas bien en todos los temas!"})]}),(0,b.jsxs)("div",{className:"bg-dark-surface border border-green-500/30 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3 text-green-400",children:"Dominas"}),d.strongTopics.length>0?(0,b.jsx)("div",{className:"space-y-2",children:d.strongTopics.map(a=>(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 rounded px-3 py-2 text-sm",children:a},a))}):(0,b.jsx)("p",{className:"text-neutral",children:"Empieza a aprender para desbloquear temas"})]})]}),f.length>0&&(0,b.jsxs)("div",{className:"bg-dark-surface border border-white/10 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Recomendaciones Personalizadas"}),(0,b.jsx)("div",{className:"space-y-3",children:f.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium mb-1",children:a.topic}),(0,b.jsx)("p",{className:"text-sm text-neutral",children:a.reason})]}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded capitalize ${"high"===a.priority?"bg-red-500/20 text-red-200":"medium"===a.priority?"bg-yellow-500/20 text-yellow-200":"bg-green-500/20 text-green-200"}`,children:a.priority})]},a.type))})]}),(0,b.jsx)("button",{onClick:a,className:"w-full bg-primary hover:bg-primary-dark text-white font-medium py-3 rounded-lg transition",children:"Chatear con el Tutor"})]}):(0,b.jsx)("div",{className:"text-neutral",children:"No profile found"})}var J=a.i(62532),K=a.i(41165);function L(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(!0),[h,i]=(0,c.useState)({coursesCompleted:0,tutorialsCompleted:0,tutorConversations:0});return((0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/partners/tutor/profile");if(a.ok){let b=await a.json();d(b.profile),i({coursesCompleted:b.profile?.completedCourses?.length||0,tutorialsCompleted:0,tutorConversations:b.profile?.conversationCount||0})}}catch(a){console.error("Failed to fetch profile:",a)}finally{f(!1)}})()},[]),e)?(0,b.jsx)("div",{className:"flex h-40 items-center justify-center",children:(0,b.jsx)(K.SovraLoader,{size:"md",className:"text-[var(--color-primary)]"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 rounded-2xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"¡Bienvenido al Centro de Entrenamiento!"}),(0,b.jsx)("p",{className:"text-neutral",children:"Elige tu ruta de aprendizaje: cursos estructurados, tutor personalizado o tutoriales interactivos"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsx)("div",{className:"bg-dark-surface border border-white/10 rounded-2xl p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-neutral text-sm",children:"Cursos Completados"}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-1",children:h.coursesCompleted})]}),(0,b.jsx)(n.BookOpen,{className:"w-8 h-8 text-primary opacity-50"})]})}),(0,b.jsx)("div",{className:"bg-dark-surface border border-white/10 rounded-2xl p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-neutral text-sm",children:"Conversaciones Tutor"}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-1",children:h.tutorConversations})]}),(0,b.jsx)(k,{className:"w-8 h-8 text-primary opacity-50"})]})}),(0,b.jsx)("div",{className:"bg-dark-surface border border-white/10 rounded-2xl p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-neutral text-sm",children:"Certificaciones"}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-1",children:h.coursesCompleted})]}),(0,b.jsx)(g.Award,{className:"w-8 h-8 text-primary opacity-50"})]})})]}),a&&(0,b.jsxs)("div",{className:"bg-dark-surface border border-white/10 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Tu Perfil de Aprendizaje"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white/5 rounded p-3",children:[(0,b.jsx)("span",{className:"text-xs text-neutral",children:"Nivel"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:a.skillLevel})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded p-3",children:[(0,b.jsx)("span",{className:"text-xs text-neutral",children:"Ritmo"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:a.preferredPace})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded p-3",children:[(0,b.jsx)("span",{className:"text-xs text-neutral",children:"Estilo"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:a.learningStyle})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded p-3",children:[(0,b.jsx)("span",{className:"text-xs text-neutral",children:"Conversaciones"}),(0,b.jsx)("p",{className:"font-medium",children:a.conversationCount})]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("a",{href:"#modules",className:"bg-dark-surface border border-white/10 hover:border-primary/50 rounded-2xl p-6 transition group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(n.BookOpen,{className:"w-6 h-6 text-primary"}),(0,b.jsx)(J.ArrowRight,{className:"w-4 h-4 text-neutral group-hover:text-primary transition"})]}),(0,b.jsx)("h4",{className:"font-semibold mb-1",children:"Cursos"}),(0,b.jsx)("p",{className:"text-sm text-neutral",children:"Completa cursos estructurados y gana certificaciones verificables"})]}),(0,b.jsxs)("a",{href:"#tutor",className:"bg-dark-surface border border-white/10 hover:border-primary/50 rounded-2xl p-6 transition group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(k,{className:"w-6 h-6 text-primary"}),(0,b.jsx)(J.ArrowRight,{className:"w-4 h-4 text-neutral group-hover:text-primary transition"})]}),(0,b.jsx)("h4",{className:"font-semibold mb-1",children:"Tutor IA"}),(0,b.jsx)("p",{className:"text-sm text-neutral",children:"Recibe ayuda personalizada con Claude, tu tutor de IA"})]}),(0,b.jsxs)("a",{href:"/partners/portal/tutorials-center",className:"bg-dark-surface border border-white/10 hover:border-primary/50 rounded-2xl p-6 transition group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(k,{className:"w-6 h-6 text-primary"}),(0,b.jsx)(J.ArrowRight,{className:"w-4 h-4 text-neutral group-hover:text-primary transition"})]}),(0,b.jsx)("h4",{className:"font-semibold mb-1",children:"Tutoriales"}),(0,b.jsx)("p",{className:"text-sm text-neutral",children:"Aprende haciendo con tutoriales interactivos paso-a-paso"})]})]})]})}function M({locale:a}){let j=(0,d.useTranslations)("trainingCenter"),l=(0,d.useTranslations)("certifications"),[m,n]=(0,c.useState)("dashboard"),[o,q]=(0,c.useState)([]),[t,u]=(0,c.useState)({}),[v,w]=(0,c.useState)([]),[x,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(null),[D,F]=(0,c.useState)("profile");(0,c.useEffect)(()=>{!async function(){try{let[a,b,c]=await Promise.all([fetch("/api/partners/training/modules"),fetch("/api/partners/training/progress"),fetch("/api/partners/certifications")]);if(a.ok&&b.ok){let c=await a.json(),d=await b.json();q(c.modules||[]),u(d.progress||{})}if(c.ok){let a=await c.json();w(a.certifications||[])}}catch(a){console.error("Failed to fetch training center data:",a)}finally{A(!1)}}()},[]);let G=async a=>{try{let b=await fetch(`/api/partners/training/modules/${a}/start`,{method:"POST"});if(b.ok){let c=await b.json();u(b=>({...b,[a]:c.progress}));let d=o.find(b=>b.id===a);d&&C(d)}}catch(a){console.error("Failed to start module:",a)}},H=async a=>{if(!B)return null;try{let b=await fetch("/api/partners/training/quiz/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({moduleId:B.id,answers:a})});if(b.ok){let a=await b.json();return u(b=>({...b,[B.id]:a.progress})),{passed:a.passed,score:a.score}}}catch(a){console.error("Failed to submit quiz:",a)}return null};if(x)return(0,b.jsx)("div",{className:"flex h-96 items-center justify-center",children:(0,b.jsx)(K.SovraLoader,{size:"md",className:"text-[var(--color-primary)]"})});let J=v.filter(a=>"active"===a.status&&new Date(a.expiresAt)>new Date),M=v.filter(a=>"active"!==a.status||new Date(a.expiresAt)<=new Date),N=[{id:"dashboard",label:"Resumen",icon:f.GraduationCap},{id:"modules",label:j("tabs.modules"),icon:f.GraduationCap},{id:"certifications",label:j("tabs.certifications"),icon:g.Award},{id:"tutor",label:"Tutor IA",icon:k}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:j("title")}),(0,b.jsx)("a",{href:"/partners/portal/tutorials-center",className:"px-4 py-2 bg-primary hover:bg-primary-dark text-white text-sm font-medium rounded-lg transition",children:"Ver Tutoriales →"})]}),(0,b.jsx)("div",{className:"flex gap-2 border-b border-[var(--color-border)]",children:N.map(a=>(0,b.jsxs)("button",{onClick:()=>n(a.id),className:(0,y.cn)("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px",m===a.id?"border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"),children:[(0,b.jsx)(a.icon,{className:"h-4 w-4"}),a.label]},a.id))}),"dashboard"===m&&(0,b.jsx)(L,{}),"modules"===m&&(0,b.jsx)(s,{modules:o,progress:t,locale:a,onStartModule:G,onTakeQuiz:a=>{let b=o.find(b=>b.id===a);b&&C(b)}}),"tutor"===m&&(0,b.jsx)("div",{className:"space-y-4",children:"profile"===D?(0,b.jsx)(I,{onStartChat:()=>F("chat")}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:()=>F("profile"),className:"text-sm text-[var(--color-primary)] hover:underline flex items-center gap-1",children:"← Volver al perfil"}),(0,b.jsx)(E,{onClose:()=>F("profile")})]})}),"certifications"===m&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[var(--color-text-primary)]",children:l("active")}),J.length>0?(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:J.map((c,d)=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*d},children:(0,b.jsx)(p.Card,{children:(0,b.jsx)(p.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/30",children:(0,b.jsx)(g.Award,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-[var(--color-text-primary)]",children:l(`types.${c.type}`)}),(0,b.jsx)(r.Badge,{variant:"success",children:"Active"})]}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-[var(--color-text-secondary)]",children:[(0,b.jsx)(h.Calendar,{className:"h-4 w-4"}),l("validUntil",{date:(0,y.formatDate)(c.expiresAt,a)})]})]})]})})})},c.id))}):(0,b.jsx)(p.Card,{children:(0,b.jsxs)(p.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(g.Award,{className:"mx-auto h-12 w-12 text-[var(--color-text-secondary)] opacity-50"}),(0,b.jsx)("p",{className:"mt-4 text-[var(--color-text-secondary)]",children:"No active certifications"})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[var(--color-text-primary)]",children:"Available Certifications"}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:["sales_fundamentals","technical_specialist","solution_architect"].map((a,c)=>{let d=J.some(b=>b.type===a);return(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},children:(0,b.jsx)(p.Card,{className:d?"opacity-60":"",children:(0,b.jsx)(p.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:`flex h-12 w-12 items-center justify-center rounded-lg ${d?"bg-green-100 dark:bg-green-900/30":"bg-[var(--color-surface-hover)]"}`,children:d?(0,b.jsx)(i.CheckCircle,{className:"h-6 w-6 text-green-600 dark:text-green-400"}):(0,b.jsx)(g.Award,{className:"h-6 w-6 text-[var(--color-text-secondary)]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-[var(--color-text-primary)]",children:l(`types.${a}`)}),(0,b.jsx)("p",{className:"mt-1 text-sm text-[var(--color-text-secondary)]",children:d?"Earned":l("earn")})]})]})})})},a)})})]}),M.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[var(--color-text-primary)]",children:l("expired")}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:M.map((c,d)=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*d},children:(0,b.jsx)(p.Card,{className:"opacity-60",children:(0,b.jsx)(p.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-[var(--color-surface-hover)]",children:(0,b.jsx)(g.Award,{className:"h-6 w-6 text-[var(--color-text-secondary)]"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-[var(--color-text-primary)]",children:l(`types.${c.type}`)}),(0,b.jsx)(r.Badge,{variant:"danger",children:l("expired")})]}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-[var(--color-text-secondary)]",children:["Expired on ",(0,y.formatDate)(c.expiresAt,a)]})]})]})})})},c.id))})]})]}),B&&(0,b.jsx)(z,{module:B,locale:a,onClose:()=>C(null),onSubmit:H})]})}function N({params:a}){let{locale:d}=(0,c.use)(a);return(0,b.jsx)(M,{locale:d})}a.s(["default",()=>N],40285)}];

//# sourceMappingURL=c80e8_src_app_%5Blocale%5D_partners_portal_training-center_page_tsx_7cc397d0._.js.map