{"version":3,"sources":["../../../../../../../node_modules/.pnpm/lucide-react%400.563.0_react%4019.2.3/node_modules/lucide-react/src/icons/arrow-left.ts","../../../../../../../apps/web/partners-portal/src/app/%5Blocale%5D/partners/portal/legal/%5BdocumentId%5D/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport { useTranslations } from 'next-intl';\nimport { useRouter } from 'next/navigation';\nimport { motion } from 'framer-motion';\nimport Link from 'next/link';\nimport {\n  ArrowLeft,\n  Download,\n  Shield,\n  FileText,\n  CheckCircle,\n  Clock,\n  AlertTriangle,\n  User,\n  Calendar,\n} from 'lucide-react';\nimport { Button, Badge, Card, CardContent, SovraLoader } from '@/components/ui';\nimport { hasPermission } from '@/lib/permissions';\nimport { cn } from '@/lib/utils';\nimport type { LegalDocument, DocumentAuditEvent, User as UserType, UserRole, DocumentStatus } from '@/types';\n\ninterface DocumentDetailPageProps {\n  params: Promise<{ locale: string; documentId: string }>;\n}\n\nconst statusConfig: Record<DocumentStatus, { color: string; bgColor: string }> = {\n  draft: { color: 'text-gray-500', bgColor: 'bg-gray-100 dark:bg-gray-800' },\n  pending_signature: { color: 'text-amber-500', bgColor: 'bg-amber-100 dark:bg-amber-900/30' },\n  partially_signed: { color: 'text-blue-500', bgColor: 'bg-blue-100 dark:bg-blue-900/30' },\n  active: { color: 'text-green-500', bgColor: 'bg-green-100 dark:bg-green-900/30' },\n  expired: { color: 'text-red-500', bgColor: 'bg-red-100 dark:bg-red-900/30' },\n  superseded: { color: 'text-gray-400', bgColor: 'bg-gray-100 dark:bg-gray-800' },\n  archived: { color: 'text-gray-400', bgColor: 'bg-gray-100 dark:bg-gray-800' },\n};\n\nexport default function DocumentDetailPage({ params }: DocumentDetailPageProps) {\n  const { locale, documentId } = use(params);\n  const t = useTranslations('legal');\n  const router = useRouter();\n\n  const [document, setDocument] = useState<LegalDocument | null>(null);\n  const [auditEvents, setAuditEvents] = useState<DocumentAuditEvent[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthorized, setIsAuthorized] = useState<boolean | null>(null);\n\n  useEffect(() => {\n    async function checkAccessAndFetch() {\n      try {\n        // Check user permissions\n        const userRes = await fetch('/api/partners/auth/me');\n        if (!userRes.ok) {\n          router.replace(`/${locale}/partners/login`);\n          return;\n        }\n        const userData = await userRes.json();\n        const user = userData.user as UserType;\n\n        if (!hasPermission(user.role as UserRole, 'legal:view')) {\n          router.replace(`/${locale}/partners/portal`);\n          return;\n        }\n\n        setIsAuthorized(true);\n\n        // Fetch document\n        const docRes = await fetch(`/api/partners/legal/${documentId}`);\n        if (!docRes.ok) {\n          if (docRes.status === 404) {\n            router.replace(`/${locale}/partners/portal/legal`);\n            return;\n          }\n          throw new Error('Failed to fetch document');\n        }\n\n        const data = await docRes.json();\n        setDocument(data.document);\n        setAuditEvents(data.auditEvents || []);\n      } catch (error) {\n        console.error('Failed to fetch document:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    checkAccessAndFetch();\n  }, [locale, documentId, router]);\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString(\n      locale === 'es' ? 'es-ES' : locale === 'pt' ? 'pt-BR' : 'en-US',\n      {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n      }\n    );\n  };\n\n  const formatShortDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString(\n      locale === 'es' ? 'es-ES' : locale === 'pt' ? 'pt-BR' : 'en-US',\n      {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n      }\n    );\n  };\n\n  const handleDownload = async () => {\n    if (!document) return;\n\n    try {\n      const res = await fetch(`/api/partners/legal/${documentId}/download`);\n      if (res.ok) {\n        const blob = await res.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = window.document.createElement('a');\n        a.href = url;\n        a.download = document.uploadMetadata?.fileName || `${document.title}.pdf`;\n        window.document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        window.document.body.removeChild(a);\n      }\n    } catch (error) {\n      console.error('Failed to download document:', error);\n    }\n  };\n\n  const handleDownloadCertificate = async () => {\n    if (!document || document.type !== 'docusign') return;\n\n    try {\n      const res = await fetch(`/api/partners/legal/${documentId}/download?type=certificate`);\n      if (res.ok) {\n        const blob = await res.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = window.document.createElement('a');\n        a.href = url;\n        a.download = `${document.title}_certificate.pdf`;\n        window.document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        window.document.body.removeChild(a);\n      }\n    } catch (error) {\n      console.error('Failed to download certificate:', error);\n    }\n  };\n\n  const getActionIcon = (action: DocumentAuditEvent['action']) => {\n    switch (action) {\n      case 'created':\n      case 'uploaded':\n        return FileText;\n      case 'signed':\n        return CheckCircle;\n      case 'sent_for_signature':\n        return Clock;\n      case 'declined':\n      case 'rejected':\n        return AlertTriangle;\n      case 'verified':\n        return Shield;\n      default:\n        return FileText;\n    }\n  };\n\n  if (isLoading || isAuthorized === null) {\n    return (\n      <div className=\"flex h-96 items-center justify-center\">\n        <SovraLoader size=\"md\" className=\"text-[var(--color-primary)]\" />\n      </div>\n    );\n  }\n\n  if (!isAuthorized || !document) {\n    return null;\n  }\n\n  const needsSignature =\n    document.status === 'pending_signature' || document.status === 'partially_signed';\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"space-y-6\"\n    >\n      {/* Header */}\n      <div className=\"flex items-center gap-4\">\n        <Link\n          href={`/${locale}/partners/portal/legal`}\n          className=\"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors\"\n        >\n          <ArrowLeft className=\"h-5 w-5 text-[var(--color-text-secondary)]\" />\n        </Link>\n        <div className=\"flex-1\">\n          <h1 className=\"text-2xl font-bold text-[var(--color-text-primary)]\">{document.title}</h1>\n          {document.version > 1 && (\n            <span className=\"text-sm text-[var(--color-text-secondary)]\">v{document.version}</span>\n          )}\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" onClick={handleDownload}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            {t('downloadDocument')}\n          </Button>\n          {document.type === 'docusign' && document.status === 'active' && (\n            <Button variant=\"outline\" onClick={handleDownloadCertificate}>\n              <Shield className=\"h-4 w-4 mr-2\" />\n              {t('downloadCertificate')}\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Info */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Status and Category */}\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <Badge\n                  variant={\n                    document.status === 'active'\n                      ? 'success'\n                      : document.status === 'pending_signature'\n                      ? 'warning'\n                      : 'secondary'\n                  }\n                >\n                  {t(`status.${document.status}`)}\n                </Badge>\n                <Badge variant=\"outline\">{t(`categories.${document.category}`)}</Badge>\n                {document.type === 'docusign' && <Badge variant=\"outline\">DocuSign</Badge>}\n              </div>\n\n              {document.description && (\n                <div className=\"mb-4\">\n                  <h3 className=\"text-sm font-medium text-[var(--color-text-primary)] mb-1\">\n                    {t('description')}\n                  </h3>\n                  <p className=\"text-sm text-[var(--color-text-secondary)]\">{document.description}</p>\n                </div>\n              )}\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                {document.effectiveDate && (\n                  <div>\n                    <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                      <Calendar className=\"h-4 w-4\" />\n                      {t('effectiveDate')}\n                    </div>\n                    <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                      {formatShortDate(document.effectiveDate)}\n                    </p>\n                  </div>\n                )}\n\n                {document.expirationDate && (\n                  <div>\n                    <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                      <Calendar className=\"h-4 w-4\" />\n                      {t('expirationDate')}\n                    </div>\n                    <p\n                      className={cn(\n                        'text-sm font-medium',\n                        new Date(document.expirationDate) < new Date()\n                          ? 'text-red-500'\n                          : 'text-[var(--color-text-primary)]'\n                      )}\n                    >\n                      {formatShortDate(document.expirationDate)}\n                    </p>\n                  </div>\n                )}\n\n                <div>\n                  <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                    <User className=\"h-4 w-4\" />\n                    {t('createdBy')}\n                  </div>\n                  <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                    {document.createdByName || t('unknown')}\n                  </p>\n                </div>\n\n                <div>\n                  <div className=\"flex items-center gap-2 text-sm text-[var(--color-text-secondary)] mb-1\">\n                    <Calendar className=\"h-4 w-4\" />\n                    {t('createdAt')}\n                  </div>\n                  <p className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                    {formatShortDate(document.createdAt)}\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* DocuSign Signers */}\n          {document.type === 'docusign' && document.docusignMetadata?.signers && (\n            <Card>\n              <CardContent className=\"p-6\">\n                <h3 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-4\">\n                  {t('signatures')}\n                </h3>\n                <div className=\"space-y-3\">\n                  {document.docusignMetadata.signers.map((signer, idx) => (\n                    <div\n                      key={idx}\n                      className=\"flex items-center justify-between p-4 bg-[var(--color-bg)] rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"h-10 w-10 rounded-full bg-[var(--color-primary)]/10 flex items-center justify-center\">\n                          <User className=\"h-5 w-5 text-[var(--color-primary)]\" />\n                        </div>\n                        <div>\n                          <p className=\"font-medium text-[var(--color-text-primary)]\">{signer.name}</p>\n                          <p className=\"text-sm text-[var(--color-text-secondary)]\">\n                            {signer.role === 'sovra' ? 'Sovra' : t('partner')} - {signer.email}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        {signer.status === 'signed' ? (\n                          <>\n                            <Badge variant=\"success\">{t('signed')}</Badge>\n                            {signer.signedAt && (\n                              <p className=\"text-xs text-[var(--color-text-secondary)] mt-1\">\n                                {formatDate(signer.signedAt)}\n                              </p>\n                            )}\n                          </>\n                        ) : signer.status === 'declined' ? (\n                          <Badge variant=\"destructive\">{t('declined')}</Badge>\n                        ) : (\n                          <Badge variant=\"warning\">{t('pending')}</Badge>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Upload Info */}\n          {document.type === 'upload' && document.uploadMetadata && (\n            <Card>\n              <CardContent className=\"p-6\">\n                <h3 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-4\">\n                  {t('fileInfo')}\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between py-2 border-b border-[var(--color-border)]\">\n                    <span className=\"text-sm text-[var(--color-text-secondary)]\">{t('fileName')}</span>\n                    <span className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                      {document.uploadMetadata.fileName}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between py-2 border-b border-[var(--color-border)]\">\n                    <span className=\"text-sm text-[var(--color-text-secondary)]\">{t('uploadedBy')}</span>\n                    <span className=\"text-sm font-medium text-[var(--color-text-primary)]\">\n                      {document.uploadMetadata.uploadedByName}\n                    </span>\n                  </div>\n                  {document.uploadMetadata.verificationStatus && (\n                    <div className=\"flex justify-between py-2\">\n                      <span className=\"text-sm text-[var(--color-text-secondary)]\">{t('verification')}</span>\n                      <Badge\n                        variant={\n                          document.uploadMetadata.verificationStatus === 'verified'\n                            ? 'success'\n                            : document.uploadMetadata.verificationStatus === 'rejected'\n                            ? 'destructive'\n                            : 'warning'\n                        }\n                      >\n                        {t(`verificationStatus.${document.uploadMetadata.verificationStatus}`)}\n                      </Badge>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n\n        {/* Audit History */}\n        <div>\n          <Card>\n            <CardContent className=\"p-6\">\n              <h3 className=\"text-lg font-semibold text-[var(--color-text-primary)] mb-4\">\n                {t('history')}\n              </h3>\n              {auditEvents.length > 0 ? (\n                <div className=\"space-y-4\">\n                  {auditEvents.map((event) => {\n                    const Icon = getActionIcon(event.action);\n                    return (\n                      <div key={event.id} className=\"flex gap-3\">\n                        <div className=\"flex-shrink-0\">\n                          <div className=\"h-8 w-8 rounded-full bg-[var(--color-surface-hover)] flex items-center justify-center\">\n                            <Icon className=\"h-4 w-4 text-[var(--color-text-secondary)]\" />\n                          </div>\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm text-[var(--color-text-primary)]\">\n                            {t(`auditActions.${event.action}`)}\n                          </p>\n                          {event.actorName && (\n                            <p className=\"text-xs text-[var(--color-text-secondary)]\">\n                              {event.actorName}\n                            </p>\n                          )}\n                          <p className=\"text-xs text-[var(--color-text-secondary)]\">\n                            {formatDate(event.timestamp)}\n                          </p>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : (\n                <p className=\"text-sm text-[var(--color-text-secondary)]\">No history available</p>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}