module.exports=[41165,a=>{"use strict";var b=a.i(34076),c=a.i(76469);let d=["M801.88,842.78c-8.1,47.41-30.86,89.85-63.42,122.39-41.2,41.2-98.19,66.73-161.09,66.73-125.41,0-227.2-101.41-227.74-226.71v-271.76h146.2v277.65c0,45.09,36.52,81.62,81.54,81.62,22.56,0,42.97-9.12,57.73-23.89,7.41-7.41,13.38-16.22,17.52-26.01h149.27Z","M805.17,349.63v271.82h-146.18v-277.65c0-45.09-36.52-81.62-81.62-81.62-22.54,0-42.89,9.12-57.67,23.89-7.39,7.39-13.35,16.18-17.46,25.96h-149.32c8.08-47.39,30.83-89.77,63.44-122.39,41.18-41.2,98.12-66.73,161.01-66.73,125.49,0,227.2,101.41,227.8,226.71Z","M1031.89,577.44c0,125.41-101.35,227.12-226.73,227.74h-271.75v-146.15h277.65c45.02,0,81.62-36.52,81.62-81.6,0-22.56-9.12-42.97-23.95-57.73-7.41-7.41-16.2-13.38-25.98-17.5v-149.3c47.44,8.1,89.83,30.86,122.4,63.44,41.26,41.26,66.73,98.19,66.73,161.09Z","M621.39,349.63v146.2h-277.67c-45.02,0-81.6,36.52-81.6,81.62,0,22.54,9.17,42.95,23.95,57.73,7.39,7.39,16.18,13.37,25.96,17.48v149.25c-47.41-8.08-89.85-30.83-122.4-63.44-41.2-41.2-66.71-98.14-66.71-161.01,0-125.43,101.41-227.27,226.71-227.82h271.76Z"],e={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16",xl:"w-24 h-24"};function f({size:a="md",className:f="",animate:g=!0}){let h=e[a];return g?(0,b.jsx)(c.motion.svg,{className:`${h} ${f}`,viewBox:"0 0 1154.81 1154.81",fill:"none",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:d.map((a,d)=>(0,b.jsx)(c.motion.path,{d:a,fill:"currentColor",initial:{opacity:.2},animate:{opacity:[.2,1,.2]},transition:{duration:1.2,repeat:1/0,ease:"easeInOut",delay:.3*d}},d))}):(0,b.jsx)("svg",{className:`${h} ${f}`,viewBox:"0 0 1154.81 1154.81",fill:"none",children:d.map((a,c)=>(0,b.jsx)("path",{d:a,fill:"currentColor"},c))})}a.s(["SovraLoader",()=>f,"default",0,f])},68956,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(76469),e=a.i(37474),f=a.i(41165);let g=(0,c.forwardRef)(({className:a,variant:c="primary",size:g="md",isLoading:h,disabled:i,children:j,...k},l)=>(0,b.jsx)(d.motion.button,{ref:l,whileTap:{scale:.98},className:(0,e.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-[var(--color-primary)] !text-white hover:opacity-90 focus:ring-[var(--color-primary)]",secondary:"bg-[var(--color-surface-hover)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-hover)] focus:ring-[var(--color-primary)]",outline:"border border-[var(--color-border)] bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] hover:border-[var(--color-border-hover)] focus:ring-[var(--color-primary)]",ghost:"bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] focus:ring-[var(--color-primary)]",danger:"bg-red-600 !text-white hover:bg-red-700 focus:ring-red-500"}[c],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[g],a),disabled:i||h,...k,children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.SovraLoader,{size:"sm",className:"mr-2 !w-4 !h-4"}),"Loading..."]}):j}));g.displayName="Button",a.s(["Button",()=>g])},45968,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,hover:c=!1,children:e,...f},g)=>(0,b.jsx)("div",{ref:g,className:(0,d.cn)("rounded-xl border border-[var(--color-border)] bg-[var(--color-surface)] p-6 shadow-sm",c&&"cursor-pointer transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-[var(--color-border-hover)]",a),...f,children:e}));e.displayName="Card";let f=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-4",a),...c}));f.displayName="CardHeader";let g=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-lg font-semibold text-[var(--color-text-primary)]",a),...c}));g.displayName="CardTitle";let h=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-[var(--color-text-secondary)]",a),...c}));h.displayName="CardDescription";let i=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("",a),...c}));i.displayName="CardContent";let j=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-4 flex items-center gap-2",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},1527,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,label:c,error:e,hint:f,type:g="text",id:h,...i},j)=>{let k=h||c?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{htmlFor:k,className:"mb-1.5 block text-sm font-medium text-gray-700",children:c}),(0,b.jsx)("input",{type:g,id:k,ref:j,className:(0,d.cn)("w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",a),...i}),f&&!e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:f}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:e})]})});e.displayName="Input",a.s(["Input",()=>e])},51985,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,label:c,error:e,options:f,id:g,...h},i)=>{let j=g||c?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{htmlFor:j,className:"mb-1.5 block text-sm font-medium text-gray-700",children:c}),(0,b.jsx)("select",{id:j,ref:i,className:(0,d.cn)("w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-900","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",a),...h,children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:e})]})});e.displayName="Select",a.s(["Select",()=>e])},76397,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,label:c,error:e,id:f,...g},h)=>{let i=f||c?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{htmlFor:i,className:"mb-1.5 block text-sm font-medium text-gray-700",children:c}),(0,b.jsx)("textarea",{id:i,ref:h,className:(0,d.cn)("w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500","min-h-[100px] resize-y",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",a),...g}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:e})]})});e.displayName="Textarea",a.s(["Textarea",()=>e])},6373,a=>{"use strict";var b=a.i(34076),c=a.i(37474);function d({className:a,variant:d="default",...e}){return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",{default:"bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",success:"bg-green-500/10 text-green-500",warning:"bg-amber-500/10 text-amber-500",danger:"bg-red-500/10 text-red-500",info:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]",secondary:"bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",outline:"bg-transparent border border-[var(--color-border)] text-[var(--color-text-secondary)]",destructive:"bg-red-500/10 text-red-500",primary:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]"}[d],a),...e})}a.s(["Badge",()=>d])},96219,a=>{"use strict";var b=a.i(34076),c=a.i(76469),d=a.i(37474);function e({className:a,value:e,max:f=100,showLabel:g=!1,variant:h="default",...i}){let j=Math.min(Math.max(e/f*100,0),100);return(0,b.jsxs)("div",{className:(0,d.cn)("w-full",a),...i,children:[g&&(0,b.jsxs)("div",{className:"mb-1 flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,b.jsxs)("span",{className:"font-medium text-gray-900",children:[Math.round(j),"%"]})]}),(0,b.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-gray-200",children:(0,b.jsx)(c.motion.div,{initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,ease:"easeOut"},className:(0,d.cn)("h-full rounded-full",{default:"bg-indigo-600",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"}[h])})})]})}a.s(["Progress",()=>e])},21989,18270,16285,a=>{"use strict";var b=a.i(53659);let c=(0,b.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>c],21989);let d=(0,b.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>d],18270);let e=(0,b.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>e],16285)},40721,a=>{"use strict";let b=(0,a.i(53659).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],40721)},85214,a=>{"use strict";var b=a.i(34076),c=a.i(21989),d=a.i(18270),e=a.i(16285),f=a.i(40721),g=a.i(37474);function h({className:a,variant:h="info",title:i,children:j,...k}){let l={info:e.Info,success:d.CheckCircle2,warning:c.AlertCircle,error:f.XCircle}[h],m={info:{container:"bg-blue-50 border-blue-200",icon:"text-blue-500",title:"text-blue-800",content:"text-blue-700"},success:{container:"bg-green-50 border-green-200",icon:"text-green-500",title:"text-green-800",content:"text-green-700"},warning:{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-500",title:"text-yellow-800",content:"text-yellow-700"},error:{container:"bg-red-50 border-red-200",icon:"text-red-500",title:"text-red-800",content:"text-red-700"}}[h];return(0,b.jsxs)("div",{className:(0,g.cn)("flex gap-3 rounded-lg border p-4",m.container,a),role:"alert",...k,children:[(0,b.jsx)(l,{className:(0,g.cn)("h-5 w-5 flex-shrink-0",m.icon)}),(0,b.jsxs)("div",{children:[i&&(0,b.jsx)("h4",{className:(0,g.cn)("font-medium",m.title),children:i}),(0,b.jsx)("div",{className:(0,g.cn)("text-sm",m.content,i&&"mt-1"),children:j})]})]})}a.s(["Alert",()=>h])},96149,a=>{"use strict";a.i(68956),a.i(45968),a.i(1527),a.i(51985),a.i(76397),a.i(6373),a.i(96219),a.i(85214),a.i(41165),a.s([])},76197,a=>{"use strict";let b=(0,a.i(53659).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],76197)},95201,a=>{"use strict";let b=(0,a.i(53659).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],95201)},64128,a=>{"use strict";let b=(0,a.i(53659).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>b],64128)},25139,a=>{"use strict";let b=(0,a.i(53659).default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);a.s(["Trophy",()=>b],25139)},19447,a=>{"use strict";let b=(0,a.i(53659).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],19447)},2229,a=>{"use strict";let b=(0,a.i(53659).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],2229)},85734,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(24321),e=a.i(95201),f=a.i(12630),g=a.i(14855),h=a.i(64128),i=a.i(26464),j=a.i(25139),k=a.i(59279),l=a.i(11233),m=a.i(76197),n=a.i(2229),o=a.i(19447),p=a.i(37474);a.i(96149);var q=a.i(41165);let r={partner:g.Building2,credential:h.ShieldCheck,document:i.FileText,deal:j.Trophy,course:k.GraduationCap,pricing:l.DollarSign},s={"partner.created":{label:"Partner creado",color:"text-green-600 bg-green-100"},"partner.updated":{label:"Partner actualizado",color:"text-blue-600 bg-blue-100"},"partner.suspended":{label:"Partner suspendido",color:"text-red-600 bg-red-100"},"partner.reactivated":{label:"Partner reactivado",color:"text-green-600 bg-green-100"},"partner.tier_changed":{label:"Nivel cambiado",color:"text-purple-600 bg-purple-100"},"credential.issued":{label:"Credencial emitida",color:"text-green-600 bg-green-100"},"credential.revoked":{label:"Credencial revocada",color:"text-red-600 bg-red-100"},"deal.approved":{label:"Deal aprobado",color:"text-green-600 bg-green-100"},"deal.rejected":{label:"Deal rechazado",color:"text-red-600 bg-red-100"},"deal.info_requested":{label:"Info solicitada",color:"text-amber-600 bg-amber-100"},"document.shared":{label:"Doc compartido",color:"text-blue-600 bg-blue-100"},"document.verified":{label:"Doc verificado",color:"text-green-600 bg-green-100"},"pricing.updated":{label:"Precios actualizados",color:"text-indigo-600 bg-indigo-100"},"course.created":{label:"Curso creado",color:"text-green-600 bg-green-100"},"course.updated":{label:"Curso actualizado",color:"text-blue-600 bg-blue-100"},"course.published":{label:"Curso publicado",color:"text-green-600 bg-green-100"}},t=[{value:"",label:"Todas las entidades"},{value:"partner",label:"Partners"},{value:"credential",label:"Credenciales"},{value:"deal",label:"Deals"},{value:"document",label:"Documentos"},{value:"course",label:"Cursos"},{value:"pricing",label:"Precios"}],u=[{value:"",label:"Todas las acciones"},{value:"partner.created",label:"Partner creado"},{value:"partner.updated",label:"Partner actualizado"},{value:"partner.suspended",label:"Partner suspendido"},{value:"partner.reactivated",label:"Partner reactivado"},{value:"credential.issued",label:"Credencial emitida"},{value:"credential.revoked",label:"Credencial revocada"},{value:"deal.approved",label:"Deal aprobado"},{value:"deal.rejected",label:"Deal rechazado"},{value:"course.created",label:"Curso creado"},{value:"course.published",label:"Curso publicado"}];function v(){let a;(0,d.useRouter)();let g=(0,d.useParams)(),h=(0,d.useSearchParams)();g.locale;let[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[v,w]=(0,c.useState)(h.get("entity")||""),[x,y]=(0,c.useState)(h.get("action")||""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(0),[F,G]=(0,c.useState)(!0),H=(0,c.useCallback)(async()=>{l(!0);try{let a=new URLSearchParams;a.set("limit","50"),a.set("offset",(50*D).toString()),v&&a.set("entityType",v),x&&a.set("action",x),z&&a.set("from",z),B&&a.set("to",B);let b=await fetch(`/api/sovra/audit?${a.toString()}`);if(!b.ok)throw Error("Failed to fetch logs");let c=await b.json();j(c.logs||[]),G(50===(c.logs||[]).length)}catch(a){console.error("Error fetching logs:",a)}finally{l(!1)}},[v,x,z,B,D]);(0,c.useEffect)(()=>{H()},[H]);let I=async()=>{try{let a=new URLSearchParams;v&&a.set("entityType",v),x&&a.set("action",x),z&&a.set("from",z),B&&a.set("to",B);let b=await fetch(`/api/sovra/audit/export?${a.toString()}`);if(!b.ok)throw Error("Failed to export");let c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`audit-log-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(d)}catch(a){console.error("Error exporting:",a)}},J=(a=new Map,i.forEach(b=>{let c,d=new Date(b.timestamp),e=Math.floor((new Date().getTime()-d.getTime())/864e5);c=0===e?"Hoy":1===e?"Ayer":e<7?"Esta semana":e<30?"Este mes":d.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),a.has(c)||a.set(c,[]),a.get(c).push(b)}),a);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)] flex items-center gap-2",children:[(0,b.jsx)(f.Activity,{className:"w-6 h-6"}),"Audit Log"]}),(0,b.jsx)("p",{className:"text-[var(--color-text-secondary)]",children:"Historial de todas las acciones en el sistema"})]}),(0,b.jsxs)("button",{onClick:I,className:"inline-flex items-center gap-2 px-4 py-2 text-[var(--color-text-primary)] bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:[(0,b.jsx)(e.Download,{className:"w-5 h-5"}),"Exportar CSV"]})]}),(0,b.jsx)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)("select",{value:v,onChange:a=>{w(a.target.value),E(0)},className:"px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] text-[var(--color-text-primary)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm",children:t.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsx)("select",{value:x,onChange:a=>{y(a.target.value),E(0)},className:"px-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] text-[var(--color-text-primary)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm",children:u.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--color-text-secondary)]"}),(0,b.jsx)("input",{type:"date",value:z,onChange:a=>{A(a.target.value),E(0)},className:"w-full pl-10 pr-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] text-[var(--color-text-primary)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm",placeholder:"Desde"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--color-text-secondary)]"}),(0,b.jsx)("input",{type:"date",value:B,onChange:a=>{C(a.target.value),E(0)},className:"w-full pl-10 pr-3 py-2 border border-[var(--color-border)] rounded-lg bg-[var(--color-bg)] text-[var(--color-text-primary)] focus:ring-2 focus:ring-[var(--color-primary)] text-sm",placeholder:"Hasta"})]})]}),(v||x||z||B)&&(0,b.jsx)("button",{onClick:()=>{w(""),y(""),A(""),C(""),E(0)},className:"px-4 py-2 text-sm text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]",children:"Limpiar filtros"})]})}),k?(0,b.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-12 text-center",children:[(0,b.jsx)(q.SovraLoader,{size:"md",className:"text-[var(--color-primary)] mx-auto"}),(0,b.jsx)("p",{className:"text-[var(--color-text-secondary)] mt-4",children:"Cargando logs..."})]}):0===i.length?(0,b.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-12 text-center",children:[(0,b.jsx)(f.Activity,{className:"w-12 h-12 text-[var(--color-text-muted)] mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-[var(--color-text-secondary)]",children:"No hay logs que mostrar"})]}):(0,b.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] overflow-hidden",children:[Array.from(J.entries()).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"px-6 py-3 bg-[var(--color-surface-hover)] border-b border-[var(--color-border)]",children:(0,b.jsx)("h3",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:a})}),(0,b.jsx)("div",{className:"divide-y divide-[var(--color-border)]",children:c.map(a=>{let c,d,e=r[a.entityType]||f.Activity,g=s[a.action]||{label:a.action,color:"text-[var(--color-text-secondary)] bg-[var(--color-surface-hover)]"};return(0,b.jsx)("div",{className:"px-6 py-4 hover:bg-[var(--color-surface-hover)] transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[var(--color-surface-hover)] flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(e,{className:"w-5 h-5 text-[var(--color-text-secondary)]"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"font-medium text-[var(--color-text-primary)]",children:a.actorName}),(0,b.jsx)("span",{className:(0,p.cn)("px-2 py-0.5 text-xs font-medium rounded-full",g.color),children:g.label}),a.entityName&&(0,b.jsx)("span",{className:"text-[var(--color-text-secondary)]",children:a.entityName})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-[var(--color-text-secondary)]",children:[(0,b.jsx)("span",{children:(c=new Date(a.timestamp),0===(d=Math.floor((new Date().getTime()-c.getTime())/864e5))?`Hoy, ${c.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`:1===d?`Ayer, ${c.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`:d<7?c.toLocaleDateString("es-ES",{weekday:"long",hour:"2-digit",minute:"2-digit"}):c.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))}),a.ipAddress&&(0,b.jsxs)("span",{children:["IP: ",a.ipAddress]}),(0,b.jsx)("span",{className:"capitalize",children:a.entityType}),(0,b.jsxs)("span",{className:"text-[var(--color-text-muted)]",children:["ID: ",a.entityId.slice(0,8),"..."]})]}),a.changes&&Object.keys(a.changes).length>0&&(0,b.jsxs)("details",{className:"mt-2",children:[(0,b.jsx)("summary",{className:"text-xs text-[var(--color-primary)] cursor-pointer hover:underline",children:"Ver cambios"}),(0,b.jsx)("div",{className:"mt-2 p-2 bg-[var(--color-surface-hover)] rounded text-xs font-mono",children:Object.entries(a.changes).map(([a,c])=>(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("span",{className:"text-[var(--color-text-secondary)]",children:[a,":"]}),(0,b.jsx)("span",{className:"text-red-600 line-through",children:String(c.old)}),(0,b.jsx)("span",{className:"text-green-600",children:String(c.new)})]},a))})]})]})]})},a.id)})})]},a)),(0,b.jsxs)("div",{className:"px-6 py-4 bg-[var(--color-surface-hover)] border-t border-[var(--color-border)] flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:["Mostrando ",50*D+1," - ",50*D+i.length," registros"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>E(a=>Math.max(0,a-1)),disabled:0===D,className:"p-2 rounded-lg border border-[var(--color-border)] hover:bg-[var(--color-surface)] disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(n.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsxs)("span",{className:"text-sm text-[var(--color-text-secondary)]",children:["Pagina ",D+1]}),(0,b.jsx)("button",{onClick:()=>E(a=>a+1),disabled:!F,className:"p-2 rounded-lg border border-[var(--color-border)] hover:bg-[var(--color-surface)] disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(o.ChevronRight,{className:"w-4 h-4"})})]})]})]})]})}a.s(["default",()=>v])}];

//# sourceMappingURL=_eda899f6._.js.map