module.exports=[40721,a=>{"use strict";let b=(0,a.i(53659).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],40721)},41165,a=>{"use strict";var b=a.i(34076),c=a.i(76469);let d=["M801.88,842.78c-8.1,47.41-30.86,89.85-63.42,122.39-41.2,41.2-98.19,66.73-161.09,66.73-125.41,0-227.2-101.41-227.74-226.71v-271.76h146.2v277.65c0,45.09,36.52,81.62,81.54,81.62,22.56,0,42.97-9.12,57.73-23.89,7.41-7.41,13.38-16.22,17.52-26.01h149.27Z","M805.17,349.63v271.82h-146.18v-277.65c0-45.09-36.52-81.62-81.62-81.62-22.54,0-42.89,9.12-57.67,23.89-7.39,7.39-13.35,16.18-17.46,25.96h-149.32c8.08-47.39,30.83-89.77,63.44-122.39,41.18-41.2,98.12-66.73,161.01-66.73,125.49,0,227.2,101.41,227.8,226.71Z","M1031.89,577.44c0,125.41-101.35,227.12-226.73,227.74h-271.75v-146.15h277.65c45.02,0,81.62-36.52,81.62-81.6,0-22.56-9.12-42.97-23.95-57.73-7.41-7.41-16.2-13.38-25.98-17.5v-149.3c47.44,8.1,89.83,30.86,122.4,63.44,41.26,41.26,66.73,98.19,66.73,161.09Z","M621.39,349.63v146.2h-277.67c-45.02,0-81.6,36.52-81.6,81.62,0,22.54,9.17,42.95,23.95,57.73,7.39,7.39,16.18,13.37,25.96,17.48v149.25c-47.41-8.08-89.85-30.83-122.4-63.44-41.2-41.2-66.71-98.14-66.71-161.01,0-125.43,101.41-227.27,226.71-227.82h271.76Z"],e={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16",xl:"w-24 h-24"};function f({size:a="md",className:f="",animate:g=!0}){let h=e[a];return g?(0,b.jsx)(c.motion.svg,{className:`${h} ${f}`,viewBox:"0 0 1154.81 1154.81",fill:"none",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:d.map((a,d)=>(0,b.jsx)(c.motion.path,{d:a,fill:"currentColor",initial:{opacity:.2},animate:{opacity:[.2,1,.2]},transition:{duration:1.2,repeat:1/0,ease:"easeInOut",delay:.3*d}},d))}):(0,b.jsx)("svg",{className:`${h} ${f}`,viewBox:"0 0 1154.81 1154.81",fill:"none",children:d.map((a,c)=>(0,b.jsx)("path",{d:a,fill:"currentColor"},c))})}a.s(["SovraLoader",()=>f,"default",0,f])},68956,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(76469),e=a.i(37474),f=a.i(41165);let g=(0,c.forwardRef)(({className:a,variant:c="primary",size:g="md",isLoading:h,disabled:i,children:j,...k},l)=>(0,b.jsx)(d.motion.button,{ref:l,whileTap:{scale:.98},className:(0,e.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-[var(--color-primary)] !text-white hover:opacity-90 focus:ring-[var(--color-primary)]",secondary:"bg-[var(--color-surface-hover)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-hover)] focus:ring-[var(--color-primary)]",outline:"border border-[var(--color-border)] bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] hover:border-[var(--color-border-hover)] focus:ring-[var(--color-primary)]",ghost:"bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-surface-hover)] focus:ring-[var(--color-primary)]",danger:"bg-red-600 !text-white hover:bg-red-700 focus:ring-red-500"}[c],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[g],a),disabled:i||h,...k,children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.SovraLoader,{size:"sm",className:"mr-2 !w-4 !h-4"}),"Loading..."]}):j}));g.displayName="Button",a.s(["Button",()=>g])},45968,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,hover:c=!1,children:e,...f},g)=>(0,b.jsx)("div",{ref:g,className:(0,d.cn)("rounded-xl border border-[var(--color-border)] bg-[var(--color-surface)] p-6 shadow-sm",c&&"cursor-pointer transition-all hover:-translate-y-0.5 hover:shadow-md hover:border-[var(--color-border-hover)]",a),...f,children:e}));e.displayName="Card";let f=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-4",a),...c}));f.displayName="CardHeader";let g=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-lg font-semibold text-[var(--color-text-primary)]",a),...c}));g.displayName="CardTitle";let h=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-[var(--color-text-secondary)]",a),...c}));h.displayName="CardDescription";let i=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("",a),...c}));i.displayName="CardContent";let j=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-4 flex items-center gap-2",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},1527,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,label:c,error:e,hint:f,type:g="text",id:h,...i},j)=>{let k=h||c?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{htmlFor:k,className:"mb-1.5 block text-sm font-medium text-gray-700",children:c}),(0,b.jsx)("input",{type:g,id:k,ref:j,className:(0,d.cn)("w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",a),...i}),f&&!e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:f}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:e})]})});e.displayName="Input",a.s(["Input",()=>e])},51985,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,label:c,error:e,options:f,id:g,...h},i)=>{let j=g||c?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{htmlFor:j,className:"mb-1.5 block text-sm font-medium text-gray-700",children:c}),(0,b.jsx)("select",{id:j,ref:i,className:(0,d.cn)("w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-900","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",a),...h,children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:e})]})});e.displayName="Select",a.s(["Select",()=>e])},76397,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(37474);let e=(0,c.forwardRef)(({className:a,label:c,error:e,id:f,...g},h)=>{let i=f||c?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{htmlFor:i,className:"mb-1.5 block text-sm font-medium text-gray-700",children:c}),(0,b.jsx)("textarea",{id:i,ref:h,className:(0,d.cn)("w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400","transition-colors focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500","min-h-[100px] resize-y",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",a),...g}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:e})]})});e.displayName="Textarea",a.s(["Textarea",()=>e])},6373,a=>{"use strict";var b=a.i(34076),c=a.i(37474);function d({className:a,variant:d="default",...e}){return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",{default:"bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",success:"bg-green-500/10 text-green-500",warning:"bg-amber-500/10 text-amber-500",danger:"bg-red-500/10 text-red-500",info:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]",secondary:"bg-[var(--color-surface-hover)] text-[var(--color-text-secondary)]",outline:"bg-transparent border border-[var(--color-border)] text-[var(--color-text-secondary)]",destructive:"bg-red-500/10 text-red-500",primary:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]"}[d],a),...e})}a.s(["Badge",()=>d])},96219,a=>{"use strict";var b=a.i(34076),c=a.i(76469),d=a.i(37474);function e({className:a,value:e,max:f=100,showLabel:g=!1,variant:h="default",...i}){let j=Math.min(Math.max(e/f*100,0),100);return(0,b.jsxs)("div",{className:(0,d.cn)("w-full",a),...i,children:[g&&(0,b.jsxs)("div",{className:"mb-1 flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,b.jsxs)("span",{className:"font-medium text-gray-900",children:[Math.round(j),"%"]})]}),(0,b.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-gray-200",children:(0,b.jsx)(c.motion.div,{initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,ease:"easeOut"},className:(0,d.cn)("h-full rounded-full",{default:"bg-indigo-600",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500"}[h])})})]})}a.s(["Progress",()=>e])},21989,18270,16285,a=>{"use strict";var b=a.i(53659);let c=(0,b.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>c],21989);let d=(0,b.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>d],18270);let e=(0,b.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>e],16285)},85214,a=>{"use strict";var b=a.i(34076),c=a.i(21989),d=a.i(18270),e=a.i(16285),f=a.i(40721),g=a.i(37474);function h({className:a,variant:h="info",title:i,children:j,...k}){let l={info:e.Info,success:d.CheckCircle2,warning:c.AlertCircle,error:f.XCircle}[h],m={info:{container:"bg-blue-50 border-blue-200",icon:"text-blue-500",title:"text-blue-800",content:"text-blue-700"},success:{container:"bg-green-50 border-green-200",icon:"text-green-500",title:"text-green-800",content:"text-green-700"},warning:{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-500",title:"text-yellow-800",content:"text-yellow-700"},error:{container:"bg-red-50 border-red-200",icon:"text-red-500",title:"text-red-800",content:"text-red-700"}}[h];return(0,b.jsxs)("div",{className:(0,g.cn)("flex gap-3 rounded-lg border p-4",m.container,a),role:"alert",...k,children:[(0,b.jsx)(l,{className:(0,g.cn)("h-5 w-5 flex-shrink-0",m.icon)}),(0,b.jsxs)("div",{children:[i&&(0,b.jsx)("h4",{className:(0,g.cn)("font-medium",m.title),children:i}),(0,b.jsx)("div",{className:(0,g.cn)("text-sm",m.content,i&&"mt-1"),children:j})]})]})}a.s(["Alert",()=>h])},96149,a=>{"use strict";a.i(68956),a.i(45968),a.i(1527),a.i(51985),a.i(76397),a.i(6373),a.i(96219),a.i(85214),a.i(41165),a.s([])},38617,a=>{"use strict";let b=(0,a.i(53659).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],38617)},76197,a=>{"use strict";let b=(0,a.i(53659).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],76197)},73875,a=>{"use strict";let b=(0,a.i(53659).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],73875)},22701,a=>{"use strict";let b=(0,a.i(53659).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],22701)},72227,a=>{"use strict";let b=(0,a.i(53659).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],72227)},52978,a=>{"use strict";let b=(0,a.i(53659).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],52978)},28198,a=>{"use strict";let b=(0,a.i(53659).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],28198)},44533,a=>{"use strict";var b=a.i(34076),c=a.i(88972),d=a.i(24321),e=a.i(14855),f=a.i(72227),g=a.i(46143),h=a.i(76197),i=a.i(38617),j=a.i(40721),k=a.i(53659);let l=(0,k.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var m=a.i(52024);let n=(0,k.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var o=a.i(22701),p=a.i(52978),q=a.i(73875),r=a.i(26464);let s={municipality:"Municipio",province:"Provincia/Estado",nation:"Nacional"};function t({deals:a,onApprove:d,onReject:k,onRequestInfo:t}){let[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(null),E=async(a,b)=>{if("approve"===b){D(a);try{await d(a)}finally{D(null)}}else x(a),z("reject"===b?"reject":"request_info"),B("")},F=async()=>{if(w&&y&&A.trim()){D(w);try{"reject"===y?await k(w,A):await t(w,A)}finally{D(null),x(null),z(null),B("")}}};return 0===a.length?(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,b.jsx)(i.CheckCircle,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay oportunidades pendientes"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Todas las oportunidades han sido procesadas"})]}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>{var c;let d=u===a.id,k=w===a.id;return(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50",onClick:()=>v(d?null:a.id),children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(e.Building2,{className:"w-6 h-6 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:a.clientName}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(f.MapPin,{className:"w-4 h-4"}),a.country]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Users,{className:"w-4 h-4"}),(c=a.population)>=1e6?`${(c/1e6).toFixed(1)}M`:c>=1e3?`${(c/1e3).toFixed(0)}K`:c.toString()," hab."]}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:s[a.governmentLevel]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[a.partner&&(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.partner.companyName}),(0,b.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:a.partner.tier})]}),d?(0,b.jsx)(n,{className:"w-5 h-5 text-gray-400"}):(0,b.jsx)(m.ChevronDown,{className:"w-5 h-5 text-gray-400"})]})]}),d&&(0,b.jsxs)("div",{className:"border-t border-gray-100 p-4 bg-gray-50",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Contacto"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(q.Briefcase,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-900",children:a.contactName}),(0,b.jsxs)("span",{className:"text-gray-500",children:["- ",a.contactRole]})]}),(0,b.jsxs)("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(o.Mail,{className:"w-4 h-4 text-gray-400"}),a.contactEmail]}),a.contactPhone&&(0,b.jsxs)("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(p.Phone,{className:"w-4 h-4 text-gray-400"}),a.contactPhone]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Detalles"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(h.Calendar,{className:"w-4 h-4 text-gray-400"}),(0,b.jsxs)("span",{className:"text-gray-600",children:["Registrado: ",new Date(a.createdAt).toLocaleDateString("es")]})]}),(0,b.jsxs)("p",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(r.FileText,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("span",{className:a.partnerGeneratedLead?"text-green-600":"text-gray-600",children:a.partnerGeneratedLead?"Lead generado por partner":"Lead proporcionado por Sovra"})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descripcion de la oportunidad"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 bg-white p-3 rounded-lg border border-gray-200",children:a.description})]}),k&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg border border-gray-200",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"reject"===y?"Razon del rechazo":"Solicitar informacion"}),(0,b.jsx)("textarea",{value:A,onChange:a=>B(a.target.value),placeholder:"reject"===y?"Explica el motivo del rechazo...":"Que informacion adicional necesitas?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 mt-3",children:[(0,b.jsx)("button",{onClick:()=>{x(null),z(null),B("")},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancelar"}),(0,b.jsx)("button",{onClick:F,disabled:!A.trim()||C===a.id,className:`px-4 py-2 text-sm text-white rounded-lg disabled:opacity-50 ${"reject"===y?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"}`,children:C===a.id?"Procesando...":"reject"===y?"Rechazar":"Solicitar"})]})]}),!k&&(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,b.jsxs)("button",{onClick:()=>E(a.id,"request_info"),disabled:C===a.id,className:"flex items-center gap-2 px-4 py-2 text-sm text-yellow-700 bg-yellow-100 rounded-lg hover:bg-yellow-200 disabled:opacity-50",children:[(0,b.jsx)(l,{className:"w-4 h-4"}),"Pedir mas info"]}),(0,b.jsxs)("button",{onClick:()=>E(a.id,"reject"),disabled:C===a.id,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-700 bg-red-100 rounded-lg hover:bg-red-200 disabled:opacity-50",children:[(0,b.jsx)(j.XCircle,{className:"w-4 h-4"}),"Rechazar"]}),(0,b.jsxs)("button",{onClick:()=>E(a.id,"approve"),disabled:C===a.id,className:"flex items-center gap-2 px-4 py-2 text-sm text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,b.jsx)(i.CheckCircle,{className:"w-4 h-4"}),C===a.id?"Aprobando...":"Aprobar"]})]})]})]},a.id)})})}var u=a.i(28198);a.i(96149);var v=a.i(41165);function w(){let a=(0,d.useRouter)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)("pending_approval"),k=(0,c.useCallback)(async()=>{try{let a=await fetch(`/api/sovra/deals?status=${i}`);if(!a.ok)throw Error("Failed to fetch deals");let b=await a.json();f(b.deals||[])}catch(a){console.error("Error fetching deals:",a)}finally{h(!1)}},[i]);(0,c.useEffect)(()=>{k()},[k]);let l=async b=>{if(!(await fetch(`/api/sovra/deals/${b}/approve`,{method:"POST"})).ok)throw Error("Failed to approve deal");await k(),a.refresh()},m=async(b,c)=>{if(!(await fetch(`/api/sovra/deals/${b}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:c})})).ok)throw Error("Failed to reject deal");await k(),a.refresh()},n=async(b,c)=>{if(!(await fetch(`/api/sovra/deals/${b}/request-info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c})})).ok)throw Error("Failed to request info");await k(),a.refresh()};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Aprobar Oportunidades"}),(0,b.jsx)("p",{className:"text-[var(--color-text-secondary)]",children:"Revisa y aprueba las oportunidades de los partners"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(u.Filter,{className:"w-5 h-5 text-[var(--color-text-muted)]"}),(0,b.jsxs)("select",{value:i,onChange:a=>j(a.target.value),className:"px-3 py-2 border border-[var(--color-border)] rounded-lg text-sm bg-[var(--color-bg)] text-[var(--color-text-primary)] focus:ring-2 focus:ring-[var(--color-primary)]",children:[(0,b.jsx)("option",{value:"pending_approval",children:"Pendientes"}),(0,b.jsx)("option",{value:"more_info",children:"Esperando info"}),(0,b.jsx)("option",{value:"all",children:"Todas"})]})]})]}),g?(0,b.jsxs)("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-12 text-center",children:[(0,b.jsx)(v.SovraLoader,{size:"md",className:"text-[var(--color-primary)] mx-auto"}),(0,b.jsx)("p",{className:"text-[var(--color-text-secondary)] mt-4",children:"Cargando oportunidades..."})]}):(0,b.jsx)(t,{deals:e,onApprove:l,onReject:m,onRequestInfo:n})]})}a.s(["default",()=>w],44533)}];

//# sourceMappingURL=_970e751a._.js.map